[2025-10-13 01:46:34.078 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-13 01:46:35.552 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-13 01:46:35.553 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-13 01:46:35.757 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-13 01:46:35.758 +03:00  INF]  Hosting environment: Development
[2025-10-13 01:46:35.758 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-13 01:46:37.039 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-13 01:46:37.674 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 650.606ms
[2025-10-13 01:46:38.287 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-13 01:46:38.322 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-13 01:46:38.334 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 47.5952ms
[2025-10-13 01:46:38.692 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 369.3838ms
[2025-10-13 01:46:43.673 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-13 01:46:43.783 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 110.7475ms
[2025-10-13 01:47:16.566 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 01:47:16.578 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:47:16.580 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 16.4907ms
[2025-10-13 01:47:16.584 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 01:47:16.585 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:47:16.969 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 01:47:17.019 +03:00  INF]  Route matched with {action = "GetTrip_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Mains(Int32, Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 01:47:20.227 +03:00  INF]  Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.destination_id, t.active, t.id, t.pickup, t.route, t.show_in_slider, t.show_in_top, t.trip_code, t.trip_default_name, t.trip_duration, d.country_code, d.dest_code, d.dest_default_name, t.trip_type, t.transfer_category_id, t.trip_code_auto, t.release_days, t.trip_order, t.is_comm_soon
FROM trip_main AS t
INNER JOIN destination_main AS d ON t.destination_id = d.id
WHERE t.trip_type = t.trip_type OR t.trip_type IS NULL
ORDER BY t.id
[2025-10-13 01:47:20.374 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.TripMainCast, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 01:47:20.591 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App) in 3561.9039ms
[2025-10-13 01:47:20.592 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 01:47:20.606 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 200 10957 application/json; charset=utf-8 4022.103ms
[2025-10-13 01:47:27.408 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - null null
[2025-10-13 01:47:27.409 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:47:27.409 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - 204 null null 1.4747ms
[2025-10-13 01:47:27.413 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - application/json 2
[2025-10-13 01:47:27.413 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:47:27.450 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 01:47:27.462 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 01:47:27.618 +03:00  INF]  Executed DbCommand (39ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 01:47:27.625 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 01:47:27.651 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 188.2081ms
[2025-10-13 01:47:27.655 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 01:47:27.657 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - 200 2907 application/json; charset=utf-8 244.5909ms
[2025-10-13 01:47:37.121 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - null null
[2025-10-13 01:47:37.122 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:47:37.122 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - 204 null null 2.0067ms
[2025-10-13 01:47:37.133 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundary0vVI2tHvNa0osAVL 100703
[2025-10-13 01:47:37.133 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:47:37.139 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 01:47:37.147 +03:00  INF]  Route matched with {action = "SaveTripImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripImage(ITravelApp.Data.Models.trips.TripImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 01:47:45.756 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.img_order IS NULL
LIMIT 2
[2025-10-13 01:47:48.323 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.trip_id = @__trip_trip_id_0 AND t.is_default IS NULL
LIMIT 2
[2025-10-13 01:47:58.761 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trip_imgs AS t
[2025-10-13 01:47:58.779 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trip_imgs AS t
[2025-10-13 01:47:59.088 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trip_imgs (id, created_by, img_height, img_name, img_path, img_resize_path, img_width, is_default, trip_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, img_order, trip_type, updated_at;
[2025-10-13 01:47:59.147 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 01:47:59.152 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App) in 22005.0883ms
[2025-10-13 01:47:59.152 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 01:47:59.155 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 200 53 application/json; charset=utf-8 22023.0013ms
[2025-10-13 01:47:59.180 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - null null
[2025-10-13 01:47:59.180 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:47:59.180 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - 204 null null 0.4236ms
[2025-10-13 01:47:59.183 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - application/json 2
[2025-10-13 01:47:59.183 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:47:59.185 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 01:47:59.185 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 01:47:59.200 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 01:47:59.203 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 01:47:59.203 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 17.9182ms
[2025-10-13 01:47:59.203 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 01:47:59.204 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - 200 3209 application/json; charset=utf-8 20.881ms
[2025-10-13 01:48:34.909 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/UpdateTripImage - null null
[2025-10-13 01:48:34.909 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:48:34.910 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/UpdateTripImage - 204 null null 1.1023ms
[2025-10-13 01:48:34.911 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/UpdateTripImage - application/json 146
[2025-10-13 01:48:34.912 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:48:34.912 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.UpdateTripImage (ITravel_App)'
[2025-10-13 01:48:34.914 +03:00  INF]  Route matched with {action = "UpdateTripImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateTripImage(ITravelApp.Data.Models.trips.TripImgUpdateReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 01:48:36.469 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM trip_imgs
WHERE id = @p0;
[2025-10-13 01:48:36.477 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 01:48:36.477 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.UpdateTripImage (ITravel_App) in 1562.6806ms
[2025-10-13 01:48:36.477 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.UpdateTripImage (ITravel_App)'
[2025-10-13 01:48:36.477 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/UpdateTripImage - 200 53 application/json; charset=utf-8 1566.1672ms
[2025-10-13 01:48:36.493 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - null null
[2025-10-13 01:48:36.493 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:48:36.494 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - 204 null null 0.6682ms
[2025-10-13 01:48:36.496 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - application/json 2
[2025-10-13 01:48:36.496 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:48:36.496 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 01:48:36.496 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 01:48:36.500 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 01:48:36.502 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 01:48:36.502 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 5.949ms
[2025-10-13 01:48:36.503 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 01:48:36.503 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - 200 2907 application/json; charset=utf-8 7.5513ms
[2025-10-13 01:48:44.023 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - null null
[2025-10-13 01:48:44.023 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:48:44.023 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - 204 null null 0.7224ms
[2025-10-13 01:48:44.033 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundaryiAcRs2zFZmXvAXcb 100703
[2025-10-13 01:48:44.034 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:48:44.037 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 01:48:44.037 +03:00  INF]  Route matched with {action = "SaveTripImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripImage(ITravelApp.Data.Models.trips.TripImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 01:49:15.231 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.img_order IS NULL
LIMIT 2
[2025-10-13 01:49:16.702 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.trip_id = @__trip_trip_id_0 AND t.is_default IS NULL
LIMIT 2
[2025-10-13 01:49:21.465 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trip_imgs AS t
[2025-10-13 01:49:22.760 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trip_imgs AS t
[2025-10-13 01:49:25.134 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trip_imgs (id, created_by, img_height, img_name, img_path, img_resize_path, img_width, is_default, trip_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, img_order, trip_type, updated_at;
[2025-10-13 01:49:35.424 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 01:49:35.424 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App) in 51386.5674ms
[2025-10-13 01:49:35.424 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 01:49:35.425 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 200 53 application/json; charset=utf-8 51392.0656ms
[2025-10-13 01:49:35.445 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - null null
[2025-10-13 01:49:35.445 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:49:35.445 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - 204 null null 0.4897ms
[2025-10-13 01:49:35.448 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - application/json 2
[2025-10-13 01:49:35.448 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:49:35.449 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 01:49:35.450 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 01:49:35.455 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 01:49:35.457 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 01:49:35.458 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 8.1503ms
[2025-10-13 01:49:35.458 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 01:49:35.458 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - 200 3209 application/json; charset=utf-8 10.2644ms
[2025-10-13 01:51:09.454 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - null null
[2025-10-13 01:51:09.462 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:51:09.462 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - 204 null null 9.0448ms
[2025-10-13 01:51:09.473 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundaryttDF1q1SS5OCKmqA 173491
[2025-10-13 01:51:09.473 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:51:09.474 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 01:51:09.474 +03:00  INF]  Route matched with {action = "SaveTripImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripImage(ITravelApp.Data.Models.trips.TripImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 01:52:14.226 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.img_order IS NULL
LIMIT 2
[2025-10-13 01:52:14.228 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.trip_id = @__trip_trip_id_0 AND t.is_default IS NULL
LIMIT 2
[2025-10-13 01:52:14.229 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trip_imgs AS t
[2025-10-13 01:52:14.230 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trip_imgs AS t
[2025-10-13 01:52:14.233 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trip_imgs (id, created_by, img_height, img_name, img_path, img_resize_path, img_width, is_default, trip_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, img_order, trip_type, updated_at;
[2025-10-13 01:52:14.234 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 01:52:14.234 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App) in 64760.387ms
[2025-10-13 01:52:14.234 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 01:52:14.235 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 200 53 application/json; charset=utf-8 64762.2521ms
[2025-10-13 01:52:14.254 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - null null
[2025-10-13 01:52:14.254 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:52:14.254 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - 204 null null 0.3193ms
[2025-10-13 01:52:14.256 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - application/json 2
[2025-10-13 01:52:14.256 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:52:14.257 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 01:52:14.257 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 01:52:14.260 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 01:52:14.263 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 01:52:14.264 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 6.2449ms
[2025-10-13 01:52:14.264 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 01:52:14.264 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - 200 3511 application/json; charset=utf-8 7.5687ms
[2025-10-13 01:53:20.919 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - null null
[2025-10-13 01:53:20.919 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:53:20.919 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - 204 null null 0.3157ms
[2025-10-13 01:53:20.922 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundarym3v293PYxkZRHS6w 100703
[2025-10-13 01:53:20.922 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:53:20.924 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 01:53:20.924 +03:00  INF]  Route matched with {action = "SaveTripImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripImage(ITravelApp.Data.Models.trips.TripImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 01:53:39.941 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.img_order IS NULL
LIMIT 2
[2025-10-13 01:53:39.942 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.trip_id = @__trip_trip_id_0 AND t.is_default IS NULL
LIMIT 2
[2025-10-13 01:53:39.943 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trip_imgs AS t
[2025-10-13 01:53:39.944 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trip_imgs AS t
[2025-10-13 01:53:39.950 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trip_imgs (id, created_by, img_height, img_name, img_path, img_resize_path, img_width, is_default, trip_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, img_order, trip_type, updated_at;
[2025-10-13 01:53:39.950 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 01:53:39.951 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App) in 19026.7262ms
[2025-10-13 01:53:39.951 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 01:53:39.951 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 200 53 application/json; charset=utf-8 19029.3314ms
[2025-10-13 01:53:39.992 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - null null
[2025-10-13 01:53:39.992 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:53:39.992 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - 204 null null 0.2773ms
[2025-10-13 01:53:40.012 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - application/json 2
[2025-10-13 01:53:40.012 +03:00  INF]  CORS policy execution successful.
[2025-10-13 01:53:40.013 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 01:53:40.013 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 01:53:40.037 +03:00  INF]  Executed DbCommand (19ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 01:53:40.038 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 01:53:40.038 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 25.2942ms
[2025-10-13 01:53:40.039 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 01:53:40.039 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=15 - 200 3813 application/json; charset=utf-8 26.4709ms
[2025-10-13 09:14:45.458 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-13 09:14:46.047 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-13 09:14:46.048 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-13 09:14:46.961 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-13 09:14:46.962 +03:00  INF]  Hosting environment: Development
[2025-10-13 09:14:46.962 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-13 09:14:47.538 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-13 09:14:47.899 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 374.0521ms
[2025-10-13 09:14:47.910 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-13 09:14:47.911 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-13 09:14:47.934 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 23.4228ms
[2025-10-13 09:14:48.053 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 142.4812ms
[2025-10-13 09:14:48.210 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-13 09:14:48.278 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.433ms
[2025-10-13 09:15:55.230 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 09:15:55.230 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=0 - null null
[2025-10-13 09:15:55.237 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:15:55.237 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:15:55.238 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=0 - 204 null null 8.3282ms
[2025-10-13 09:15:55.238 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 8.3289ms
[2025-10-13 09:15:55.240 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 09:15:55.240 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=0 - application/json 2
[2025-10-13 09:15:55.241 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:15:55.241 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:15:56.681 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:15:56.681 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 09:15:56.713 +03:00  INF]  Route matched with {action = "GetTrip_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Mains(Int32, Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:15:56.713 +03:00  INF]  Route matched with {action = "GetTrip_ChildPolicy", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_ChildPolicy(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:15:58.892 +03:00  INF]  Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.destination_id, t.active, t.id, t.pickup, t.route, t.show_in_slider, t.show_in_top, t.trip_code, t.trip_default_name, t.trip_duration, d.country_code, d.dest_code, d.dest_default_name, t.trip_type, t.transfer_category_id, t.trip_code_auto, t.release_days, t.trip_order, t.is_comm_soon
FROM trip_main AS t
INNER JOIN destination_main AS d ON t.destination_id = d.id
WHERE t.trip_type = t.trip_type OR t.trip_type IS NULL
ORDER BY t.id
[2025-10-13 09:15:58.910 +03:00  INF]  Executed DbCommand (57ms) [Parameters=[@__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0
[2025-10-13 09:15:58.935 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.TripMainCast, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:15:58.935 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.child_policy_setting, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:15:59.005 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App) in 2289.2818ms
[2025-10-13 09:15:59.006 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:15:59.017 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=0 - 200 2 application/json; charset=utf-8 3776.7909ms
[2025-10-13 09:15:59.026 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App) in 2312.6201ms
[2025-10-13 09:15:59.026 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 09:15:59.026 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 200 10957 application/json; charset=utf-8 3785.932ms
[2025-10-13 09:16:02.544 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 09:16:02.544 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:02.546 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 2.191ms
[2025-10-13 09:16:02.553 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 09:16:02.553 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:02.576 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 09:16:02.576 +03:00  INF]  Route matched with {action = "GetTrip_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Mains(Int32, Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:02.638 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.destination_id, t.active, t.id, t.pickup, t.route, t.show_in_slider, t.show_in_top, t.trip_code, t.trip_default_name, t.trip_duration, d.country_code, d.dest_code, d.dest_default_name, t.trip_type, t.transfer_category_id, t.trip_code_auto, t.release_days, t.trip_order, t.is_comm_soon
FROM trip_main AS t
INNER JOIN destination_main AS d ON t.destination_id = d.id
WHERE t.trip_type = t.trip_type OR t.trip_type IS NULL
ORDER BY t.id
[2025-10-13 09:16:02.640 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.TripMainCast, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:16:02.646 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App) in 69.3513ms
[2025-10-13 09:16:02.646 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 09:16:02.646 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 200 10957 application/json; charset=utf-8 93.3619ms
[2025-10-13 09:16:07.027 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - null null
[2025-10-13 09:16:07.027 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:07.027 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - 204 null null 0.7251ms
[2025-10-13 09:16:07.030 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - application/json 2
[2025-10-13 09:16:07.030 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:07.031 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityAllWithSelect (ITravel_App)'
[2025-10-13 09:16:07.035 +03:00  INF]  Route matched with {action = "GetFacilityAllWithSelect", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetFacilityAllWithSelect(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:07.104 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT f.active, f.facility_code, f.facility_default_name, f.id AS facility_id, CASE
    WHEN t0.id IS NOT NULL THEN t0.id
    ELSE 0
END AS fac_trip_id, f.pricing_type, f.extra_price, f.is_obligatory, CASE
    WHEN t0.id IS NOT NULL AND t0.id > 0 THEN TRUE
    ELSE FALSE
END AS selected
FROM facility_main AS f
LEFT JOIN (
    SELECT t.id, t.facility_id
    FROM trip_facility AS t
    WHERE t.trip_id = @__trip_id_0
) AS t0 ON f.id = t0.facility_id
WHERE f.active
[2025-10-13 09:16:07.113 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.FacilityAllWithSelect, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:16:07.119 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetFacilityAllWithSelect (ITravel_App) in 84.1059ms
[2025-10-13 09:16:07.119 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityAllWithSelect (ITravel_App)'
[2025-10-13 09:16:07.119 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - 200 1724 application/json; charset=utf-8 89.8662ms
[2025-10-13 09:16:14.026 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/AssignFacilityToTrip - null null
[2025-10-13 09:16:14.026 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:14.027 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/AssignFacilityToTrip - 204 null null 0.5345ms
[2025-10-13 09:16:14.029 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/AssignFacilityToTrip - application/json 66
[2025-10-13 09:16:14.029 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:14.030 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.AssignFacilityToTrip (ITravel_App)'
[2025-10-13 09:16:14.033 +03:00  INF]  Route matched with {action = "AssignFacilityToTrip", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AssignFacilityToTrip(ITravelApp.Data.Models.trips.TripFacilityAssignReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:14.087 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_trip_id_0='?' (DbType = Int64), @__trip_facility_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.facility_id, t.trip_id, t.trip_type, t.updated_at
FROM trip_facility AS t
WHERE t.trip_id = @__trip_trip_id_0 AND t.facility_id = @__trip_facility_id_1
LIMIT 2
[2025-10-13 09:16:14.109 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trip_facility AS t
[2025-10-13 09:16:14.122 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trip_facility AS t
[2025-10-13 09:16:14.259 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Boolean), @p2='?', @p3='?' (DbType = Int64), @p4='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trip_facility (id, active, created_by, facility_id, trip_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING created_at, trip_type, updated_at;
[2025-10-13 09:16:14.284 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:16:14.285 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.AssignFacilityToTrip (ITravel_App) in 252.5268ms
[2025-10-13 09:16:14.285 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.AssignFacilityToTrip (ITravel_App)'
[2025-10-13 09:16:14.285 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/AssignFacilityToTrip - 200 54 application/json; charset=utf-8 256.6748ms
[2025-10-13 09:16:14.291 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - null null
[2025-10-13 09:16:14.291 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:14.291 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - 204 null null 0.6196ms
[2025-10-13 09:16:14.293 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - application/json 2
[2025-10-13 09:16:14.293 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:14.293 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityAllWithSelect (ITravel_App)'
[2025-10-13 09:16:14.293 +03:00  INF]  Route matched with {action = "GetFacilityAllWithSelect", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetFacilityAllWithSelect(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:14.297 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT f.active, f.facility_code, f.facility_default_name, f.id AS facility_id, CASE
    WHEN t0.id IS NOT NULL THEN t0.id
    ELSE 0
END AS fac_trip_id, f.pricing_type, f.extra_price, f.is_obligatory, CASE
    WHEN t0.id IS NOT NULL AND t0.id > 0 THEN TRUE
    ELSE FALSE
END AS selected
FROM facility_main AS f
LEFT JOIN (
    SELECT t.id, t.facility_id
    FROM trip_facility AS t
    WHERE t.trip_id = @__trip_id_0
) AS t0 ON f.id = t0.facility_id
WHERE f.active
[2025-10-13 09:16:14.297 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.FacilityAllWithSelect, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:16:14.297 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetFacilityAllWithSelect (ITravel_App) in 3.7223ms
[2025-10-13 09:16:14.297 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityAllWithSelect (ITravel_App)'
[2025-10-13 09:16:14.298 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - 200 1724 application/json; charset=utf-8 4.9261ms
[2025-10-13 09:16:15.697 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/AssignFacilityToTrip - null null
[2025-10-13 09:16:15.697 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:15.697 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/AssignFacilityToTrip - 204 null null 0.7946ms
[2025-10-13 09:16:15.699 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/AssignFacilityToTrip - application/json 66
[2025-10-13 09:16:15.700 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:15.701 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.AssignFacilityToTrip (ITravel_App)'
[2025-10-13 09:16:15.701 +03:00  INF]  Route matched with {action = "AssignFacilityToTrip", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AssignFacilityToTrip(ITravelApp.Data.Models.trips.TripFacilityAssignReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:15.706 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_trip_id_0='?' (DbType = Int64), @__trip_facility_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.facility_id, t.trip_id, t.trip_type, t.updated_at
FROM trip_facility AS t
WHERE t.trip_id = @__trip_trip_id_0 AND t.facility_id = @__trip_facility_id_1
LIMIT 2
[2025-10-13 09:16:15.706 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trip_facility AS t
[2025-10-13 09:16:15.707 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trip_facility AS t
[2025-10-13 09:16:15.713 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Boolean), @p2='?', @p3='?' (DbType = Int64), @p4='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trip_facility (id, active, created_by, facility_id, trip_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING created_at, trip_type, updated_at;
[2025-10-13 09:16:15.714 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:16:15.714 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.AssignFacilityToTrip (ITravel_App) in 13.1372ms
[2025-10-13 09:16:15.714 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.AssignFacilityToTrip (ITravel_App)'
[2025-10-13 09:16:15.714 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/AssignFacilityToTrip - 200 54 application/json; charset=utf-8 14.8925ms
[2025-10-13 09:16:15.720 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - null null
[2025-10-13 09:16:15.720 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:15.721 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - 204 null null 0.314ms
[2025-10-13 09:16:15.722 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - application/json 2
[2025-10-13 09:16:15.723 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:15.723 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityAllWithSelect (ITravel_App)'
[2025-10-13 09:16:15.723 +03:00  INF]  Route matched with {action = "GetFacilityAllWithSelect", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetFacilityAllWithSelect(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:15.725 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT f.active, f.facility_code, f.facility_default_name, f.id AS facility_id, CASE
    WHEN t0.id IS NOT NULL THEN t0.id
    ELSE 0
END AS fac_trip_id, f.pricing_type, f.extra_price, f.is_obligatory, CASE
    WHEN t0.id IS NOT NULL AND t0.id > 0 THEN TRUE
    ELSE FALSE
END AS selected
FROM facility_main AS f
LEFT JOIN (
    SELECT t.id, t.facility_id
    FROM trip_facility AS t
    WHERE t.trip_id = @__trip_id_0
) AS t0 ON f.id = t0.facility_id
WHERE f.active
[2025-10-13 09:16:15.725 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.FacilityAllWithSelect, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:16:15.726 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetFacilityAllWithSelect (ITravel_App) in 2.2395ms
[2025-10-13 09:16:15.726 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityAllWithSelect (ITravel_App)'
[2025-10-13 09:16:15.726 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - 200 1724 application/json; charset=utf-8 3.7052ms
[2025-10-13 09:16:23.612 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - null null
[2025-10-13 09:16:23.613 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:23.613 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - 204 null null 0.3711ms
[2025-10-13 09:16:23.617 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - application/json 2
[2025-10-13 09:16:23.618 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:23.619 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App)'
[2025-10-13 09:16:23.621 +03:00  INF]  Route matched with {action = "GetFacilityWithTranslation", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetFacilityWithTranslation() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:23.658 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:23.672 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:23.673 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:23.675 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:23.676 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:23.677 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:23.678 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:23.679 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.global.FacilityWithTranslationGrp, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:16:23.690 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App) in 68.8654ms
[2025-10-13 09:16:23.690 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App)'
[2025-10-13 09:16:23.690 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - 200 2659 application/json; charset=utf-8 74.7663ms
[2025-10-13 09:16:25.934 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Currencies - null null
[2025-10-13 09:16:25.934 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:25.934 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Currencies - 204 null null 0.3266ms
[2025-10-13 09:16:25.936 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Currencies - application/json 2
[2025-10-13 09:16:25.936 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:25.937 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App)'
[2025-10-13 09:16:25.941 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:25.977 +03:00  INF]  Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-13 09:16:25.993 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.tbl_currency, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:16:25.994 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App) in 53.4303ms
[2025-10-13 09:16:25.994 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App)'
[2025-10-13 09:16:25.994 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Currencies - 200 176 application/json; charset=utf-8 58.6103ms
[2025-10-13 09:16:38.594 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveMainFacility - null null
[2025-10-13 09:16:38.595 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:38.595 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveMainFacility - 204 null null 0.7355ms
[2025-10-13 09:16:38.597 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveMainFacility - application/json 179
[2025-10-13 09:16:38.597 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:38.598 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveMainFacility (ITravel_App)'
[2025-10-13 09:16:38.599 +03:00  INF]  Route matched with {action = "SaveMainFacility", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveMainFacility(ITravelApp.Data.Entities.facility_main) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:38.705 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int16), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE facility_main SET active = @p0, created_at = @p1, created_by = @p2, currency_code = @p3, extra_price = @p4, facility_code = @p5, facility_default_name = @p6, is_extra = @p7, is_obligatory = @p8, pricing_type = @p9, updated_at = @p10
WHERE id = @p11;
[2025-10-13 09:16:38.706 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:16:38.706 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveMainFacility (ITravel_App) in 107.4423ms
[2025-10-13 09:16:38.706 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveMainFacility (ITravel_App)'
[2025-10-13 09:16:38.707 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveMainFacility - 200 53 application/json; charset=utf-8 110.1204ms
[2025-10-13 09:16:38.723 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - null null
[2025-10-13 09:16:38.723 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:38.723 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - 204 null null 0.4727ms
[2025-10-13 09:16:38.725 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - application/json 2
[2025-10-13 09:16:38.725 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:38.726 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App)'
[2025-10-13 09:16:38.726 +03:00  INF]  Route matched with {action = "GetFacilityWithTranslation", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetFacilityWithTranslation() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:38.728 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:38.729 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:38.730 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:38.731 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:38.731 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:38.732 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:38.733 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:16:38.733 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.global.FacilityWithTranslationGrp, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:16:38.733 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App) in 7.012ms
[2025-10-13 09:16:38.733 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App)'
[2025-10-13 09:16:38.733 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - 200 2659 application/json; charset=utf-8 8.5183ms
[2025-10-13 09:16:42.496 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Currencies - null null
[2025-10-13 09:16:42.497 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:42.497 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Currencies - 204 null null 0.5481ms
[2025-10-13 09:16:42.498 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Currencies - application/json 2
[2025-10-13 09:16:42.498 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:42.500 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App)'
[2025-10-13 09:16:42.500 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:42.508 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-13 09:16:42.509 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.tbl_currency, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:16:42.509 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App) in 9.2833ms
[2025-10-13 09:16:42.510 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App)'
[2025-10-13 09:16:42.510 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Currencies - 200 176 application/json; charset=utf-8 11.872ms
[2025-10-13 09:16:53.804 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 09:16:53.804 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:53.805 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 0.2977ms
[2025-10-13 09:16:53.805 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=0 - null null
[2025-10-13 09:16:53.805 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:53.805 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=0 - 204 null null 0.2394ms
[2025-10-13 09:16:53.807 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 09:16:53.808 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=0 - application/json 2
[2025-10-13 09:16:53.808 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:53.808 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:53.808 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:16:53.808 +03:00  INF]  Route matched with {action = "GetTrip_ChildPolicy", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_ChildPolicy(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:53.809 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 09:16:53.809 +03:00  INF]  Route matched with {action = "GetTrip_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Mains(Int32, Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:53.815 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0
[2025-10-13 09:16:53.818 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.child_policy_setting, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:16:53.818 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App) in 10.0776ms
[2025-10-13 09:16:53.819 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:16:53.819 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=0 - 200 2 application/json; charset=utf-8 11.3418ms
[2025-10-13 09:16:53.822 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.destination_id, t.active, t.id, t.pickup, t.route, t.show_in_slider, t.show_in_top, t.trip_code, t.trip_default_name, t.trip_duration, d.country_code, d.dest_code, d.dest_default_name, t.trip_type, t.transfer_category_id, t.trip_code_auto, t.release_days, t.trip_order, t.is_comm_soon
FROM trip_main AS t
INNER JOIN destination_main AS d ON t.destination_id = d.id
WHERE t.trip_type = t.trip_type OR t.trip_type IS NULL
ORDER BY t.id
[2025-10-13 09:16:53.825 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.TripMainCast, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:16:53.841 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App) in 31.8965ms
[2025-10-13 09:16:53.841 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 09:16:53.841 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 200 10957 application/json; charset=utf-8 33.7421ms
[2025-10-13 09:16:55.737 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Prices?trip_id=2 - null null
[2025-10-13 09:16:55.738 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:55.738 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Prices?trip_id=2 - 204 null null 0.7002ms
[2025-10-13 09:16:55.740 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Prices?trip_id=2 - application/json 2
[2025-10-13 09:16:55.740 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:55.740 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Prices (ITravel_App)'
[2025-10-13 09:16:55.745 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - null null
[2025-10-13 09:16:55.746 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:55.746 +03:00  INF]  Route matched with {action = "GetTrip_Prices", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Prices(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:55.746 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - 204 null null 0.2466ms
[2025-10-13 09:16:55.748 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - application/json 2
[2025-10-13 09:16:55.748 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:55.756 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:16:55.756 +03:00  INF]  Route matched with {action = "GetTrip_ChildPolicy", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_ChildPolicy(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:55.759 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0
[2025-10-13 09:16:55.760 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.child_policy_setting, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:16:55.760 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App) in 4.3972ms
[2025-10-13 09:16:55.760 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:16:55.760 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - 200 2 application/json; charset=utf-8 13.0999ms
[2025-10-13 09:16:55.772 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__trip_id_0
[2025-10-13 09:16:55.803 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_price, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:16:55.812 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Prices (ITravel_App) in 66.5784ms
[2025-10-13 09:16:55.812 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Prices (ITravel_App)'
[2025-10-13 09:16:55.813 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Prices?trip_id=2 - 200 504 application/json; charset=utf-8 73.5495ms
[2025-10-13 09:16:57.382 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Currencies - null null
[2025-10-13 09:16:57.382 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:57.382 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Currencies - 204 null null 0.4306ms
[2025-10-13 09:16:57.384 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Currencies - application/json 2
[2025-10-13 09:16:57.384 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:16:57.384 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App)'
[2025-10-13 09:16:57.385 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:16:57.386 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-13 09:16:57.390 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.tbl_currency, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:16:57.391 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App) in 5.9056ms
[2025-10-13 09:16:57.391 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App)'
[2025-10-13 09:16:57.391 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Currencies - 200 176 application/json; charset=utf-8 7.3433ms
[2025-10-13 09:17:24.901 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripPrices - null null
[2025-10-13 09:17:24.901 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:24.901 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripPrices - 204 null null 0.7379ms
[2025-10-13 09:17:24.903 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripPrices - application/json 176
[2025-10-13 09:17:24.903 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:24.903 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripPrices (ITravel_App)'
[2025-10-13 09:17:24.905 +03:00  INF]  Route matched with {action = "SaveTripPrices", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripPrices(ITravelApp.Data.Models.trips.TripPricesReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:17:24.932 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p12='?' (DbType = Int64), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int16), @p8='?' (DbType = Int64), @p9='?' (DbType = Decimal), @p10='?' (DbType = Decimal), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE trip_prices SET child_price = @p0, created_at = @p1, created_by = @p2, currency_code = @p3, notes = @p4, pax_from = @p5, pax_to = @p6, pricing_type = @p7, trip_id = @p8, trip_origin_price = @p9, trip_sale_price = @p10, updated_at = @p11
WHERE id = @p12;
[2025-10-13 09:17:24.932 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:17:24.932 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripPrices (ITravel_App) in 27.727ms
[2025-10-13 09:17:24.933 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripPrices (ITravel_App)'
[2025-10-13 09:17:24.933 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripPrices - 200 53 application/json; charset=utf-8 30.184ms
[2025-10-13 09:17:24.945 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Prices?trip_id=2 - null null
[2025-10-13 09:17:24.945 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:24.946 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Prices?trip_id=2 - 204 null null 0.4145ms
[2025-10-13 09:17:24.947 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Prices?trip_id=2 - application/json 2
[2025-10-13 09:17:24.947 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:24.947 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Prices (ITravel_App)'
[2025-10-13 09:17:24.947 +03:00  INF]  Route matched with {action = "GetTrip_Prices", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Prices(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:17:24.951 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__trip_id_0
[2025-10-13 09:17:24.955 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_price, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:17:24.957 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Prices (ITravel_App) in 9.5691ms
[2025-10-13 09:17:24.957 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Prices (ITravel_App)'
[2025-10-13 09:17:24.957 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Prices?trip_id=2 - 200 504 application/json; charset=utf-8 10.6738ms
[2025-10-13 09:17:27.487 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Currencies - null null
[2025-10-13 09:17:27.487 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:27.488 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Currencies - 204 null null 0.5643ms
[2025-10-13 09:17:27.489 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Currencies - application/json 2
[2025-10-13 09:17:27.489 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:27.490 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App)'
[2025-10-13 09:17:27.490 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:17:27.492 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-13 09:17:27.495 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.tbl_currency, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:17:27.495 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App) in 5.234ms
[2025-10-13 09:17:27.496 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App)'
[2025-10-13 09:17:27.496 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Currencies - 200 176 application/json; charset=utf-8 7.2757ms
[2025-10-13 09:17:45.434 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - null null
[2025-10-13 09:17:45.434 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:45.434 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - 204 null null 0.7765ms
[2025-10-13 09:17:45.436 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - application/json 157
[2025-10-13 09:17:45.436 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:45.437 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripChildPolicy (ITravel_App)'
[2025-10-13 09:17:45.439 +03:00  INF]  Route matched with {action = "SaveTripChildPolicy", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripChildPolicy(ITravelApp.Data.Models.trips.ChildPolicyPricesReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:17:45.464 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__price_trip_id_0='?' (DbType = Int64), @__price_currency_code_1='?', @__price_age_from_2='?' (DbType = Int32), @__price_age_to_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__price_trip_id_0 AND c.currency_code = @__price_currency_code_1 AND c.age_from = @__price_age_from_2 AND c.age_to = @__price_age_to_3
LIMIT 2
[2025-10-13 09:17:45.469 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM child_policy_setting AS c
[2025-10-13 09:17:45.477 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.policy_id)
FROM child_policy_setting AS c
[2025-10-13 09:17:45.526 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?', @p5='?' (DbType = DateTime2), @p6='?', @p7='?', @p8='?', @p9='?' (DbType = Int32), @p10='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO child_policy_setting (policy_id, age_from, age_to, child_price, code_auto, created_at, created_by, currency_code, notes, pricing_type, trip_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING updated_at;
[2025-10-13 09:17:45.530 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:17:45.531 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripChildPolicy (ITravel_App) in 91.2469ms
[2025-10-13 09:17:45.531 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripChildPolicy (ITravel_App)'
[2025-10-13 09:17:45.531 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - 200 53 application/json; charset=utf-8 95.2682ms
[2025-10-13 09:17:45.548 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - null null
[2025-10-13 09:17:45.549 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:45.549 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - 204 null null 0.4538ms
[2025-10-13 09:17:45.550 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - application/json 2
[2025-10-13 09:17:45.550 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:45.550 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:17:45.550 +03:00  INF]  Route matched with {action = "GetTrip_ChildPolicy", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_ChildPolicy(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:17:45.552 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0
[2025-10-13 09:17:45.554 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.child_policy_setting, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:17:45.557 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App) in 6.2469ms
[2025-10-13 09:17:45.557 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:17:45.557 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - 200 261 application/json; charset=utf-8 7.3553ms
[2025-10-13 09:17:59.554 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - null null
[2025-10-13 09:17:59.554 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:59.554 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - 204 null null 0.5804ms
[2025-10-13 09:17:59.556 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - application/json 161
[2025-10-13 09:17:59.556 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:59.556 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripChildPolicy (ITravel_App)'
[2025-10-13 09:17:59.556 +03:00  INF]  Route matched with {action = "SaveTripChildPolicy", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripChildPolicy(ITravelApp.Data.Models.trips.ChildPolicyPricesReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:17:59.559 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Decimal), @p3='?', @p4='?' (DbType = DateTime2), @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int64), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE child_policy_setting SET age_from = @p0, age_to = @p1, child_price = @p2, code_auto = @p3, created_at = @p4, created_by = @p5, currency_code = @p6, notes = @p7, pricing_type = @p8, trip_id = @p9, updated_at = @p10
WHERE policy_id = @p11;
[2025-10-13 09:17:59.560 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:17:59.560 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripChildPolicy (ITravel_App) in 3.4633ms
[2025-10-13 09:17:59.560 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripChildPolicy (ITravel_App)'
[2025-10-13 09:17:59.560 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - 200 53 application/json; charset=utf-8 4.712ms
[2025-10-13 09:17:59.588 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - null null
[2025-10-13 09:17:59.588 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:59.588 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - 204 null null 0.5443ms
[2025-10-13 09:17:59.590 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - application/json 2
[2025-10-13 09:17:59.590 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:17:59.590 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:17:59.590 +03:00  INF]  Route matched with {action = "GetTrip_ChildPolicy", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_ChildPolicy(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:17:59.592 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0
[2025-10-13 09:17:59.592 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.child_policy_setting, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:17:59.592 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App) in 2.0337ms
[2025-10-13 09:17:59.593 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:17:59.593 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - 200 212 application/json; charset=utf-8 3.37ms
[2025-10-13 09:18:12.495 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - null null
[2025-10-13 09:18:12.495 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:18:12.495 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - 204 null null 0.2799ms
[2025-10-13 09:18:12.500 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - application/json 162
[2025-10-13 09:18:12.500 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:18:12.501 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripChildPolicy (ITravel_App)'
[2025-10-13 09:18:12.501 +03:00  INF]  Route matched with {action = "SaveTripChildPolicy", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripChildPolicy(ITravelApp.Data.Models.trips.ChildPolicyPricesReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:18:12.512 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Decimal), @p3='?', @p4='?' (DbType = DateTime2), @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int64), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE child_policy_setting SET age_from = @p0, age_to = @p1, child_price = @p2, code_auto = @p3, created_at = @p4, created_by = @p5, currency_code = @p6, notes = @p7, pricing_type = @p8, trip_id = @p9, updated_at = @p10
WHERE policy_id = @p11;
[2025-10-13 09:18:12.513 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:18:12.513 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripChildPolicy (ITravel_App) in 11.5509ms
[2025-10-13 09:18:12.513 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripChildPolicy (ITravel_App)'
[2025-10-13 09:18:12.513 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - 200 53 application/json; charset=utf-8 12.897ms
[2025-10-13 09:18:12.534 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - null null
[2025-10-13 09:18:12.534 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:18:12.534 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - 204 null null 0.4365ms
[2025-10-13 09:18:12.535 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - application/json 2
[2025-10-13 09:18:12.535 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:18:12.536 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:18:12.536 +03:00  INF]  Route matched with {action = "GetTrip_ChildPolicy", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_ChildPolicy(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:18:12.538 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0
[2025-10-13 09:18:12.539 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.child_policy_setting, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:18:12.539 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App) in 3.2607ms
[2025-10-13 09:18:12.541 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:18:12.541 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - 200 213 application/json; charset=utf-8 6.0618ms
[2025-10-13 09:18:20.945 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - null null
[2025-10-13 09:18:20.945 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:18:20.945 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - 204 null null 0.488ms
[2025-10-13 09:18:20.947 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - application/json 150
[2025-10-13 09:18:20.947 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:18:20.948 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripChildPolicy (ITravel_App)'
[2025-10-13 09:18:20.948 +03:00  INF]  Route matched with {action = "SaveTripChildPolicy", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripChildPolicy(ITravelApp.Data.Models.trips.ChildPolicyPricesReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:18:20.951 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__price_trip_id_0='?' (DbType = Int64), @__price_currency_code_1='?', @__price_age_from_2='?' (DbType = Int32), @__price_age_to_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__price_trip_id_0 AND c.currency_code = @__price_currency_code_1 AND c.age_from = @__price_age_from_2 AND c.age_to = @__price_age_to_3
LIMIT 2
[2025-10-13 09:18:20.952 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM child_policy_setting AS c
[2025-10-13 09:18:20.953 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.policy_id)
FROM child_policy_setting AS c
[2025-10-13 09:18:20.957 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?', @p5='?' (DbType = DateTime2), @p6='?', @p7='?', @p8='?', @p9='?' (DbType = Int32), @p10='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO child_policy_setting (policy_id, age_from, age_to, child_price, code_auto, created_at, created_by, currency_code, notes, pricing_type, trip_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING updated_at;
[2025-10-13 09:18:20.957 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:18:20.957 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripChildPolicy (ITravel_App) in 9.4732ms
[2025-10-13 09:18:20.957 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripChildPolicy (ITravel_App)'
[2025-10-13 09:18:20.957 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripChildPolicy - 200 53 application/json; charset=utf-8 10.7891ms
[2025-10-13 09:18:20.978 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - null null
[2025-10-13 09:18:20.978 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:18:20.978 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - 204 null null 0.4226ms
[2025-10-13 09:18:20.979 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - application/json 2
[2025-10-13 09:18:20.979 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:18:20.980 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:18:20.980 +03:00  INF]  Route matched with {action = "GetTrip_ChildPolicy", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_ChildPolicy(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:18:20.982 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0
[2025-10-13 09:18:20.984 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.child_policy_setting, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:18:20.984 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App) in 4.0446ms
[2025-10-13 09:18:20.984 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_ChildPolicy (ITravel_App)'
[2025-10-13 09:18:20.984 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_ChildPolicy?trip_id=2 - 200 467 application/json; charset=utf-8 5.299ms
[2025-10-13 09:20:56.371 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelClient/CalculateBookingPrice - application/json-patch+json 201
[2025-10-13 09:20:56.372 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:20:56.380 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App)'
[2025-10-13 09:20:56.382 +03:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ITravelApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ITravel_App.Controllers.TravelClientController (ITravel_App).
[2025-10-13 09:21:07.963 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-10-13 09:21:15.202 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-10-13 09:22:04.384 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 09:22:12.656 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 09:23:13.195 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-10-13 09:23:13.199 +03:00  INF]  Executed action ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App) in 136816.675ms
[2025-10-13 09:23:13.199 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App)'
[2025-10-13 09:23:13.199 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelClient/CalculateBookingPrice - 200 160 application/json; charset=utf-8 136827.7835ms
[2025-10-13 09:36:09.648 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelClient/GetTripDetails - application/json-patch+json 102
[2025-10-13 09:36:09.685 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:36:09.693 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelClientController.GetTripDetails (ITravel_App)'
[2025-10-13 09:36:09.696 +03:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ITravelApp.Data.Models.trips.TripDetailsReq) on controller ITravel_App.Controllers.TravelClientController (ITravel_App).
[2025-10-13 09:36:09.770 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64), @__req_trip_type_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND t.trip_type = @__req_trip_type_2
[2025-10-13 09:36:09.786 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-13 09:36:09.795 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
ORDER BY t.trip_sale_price
LIMIT 1
[2025-10-13 09:36:09.823 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__is_obligatory_3='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id, CASE
    WHEN f2.id IS NOT NULL THEN f2.pricing_type
    ELSE 0
END AS pricing_type, f2.is_obligatory
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2 AND f1.is_obligatory = @__is_obligatory_3
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-13 09:36:09.842 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-13 09:36:09.853 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-13 09:36:09.859 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-13 09:36:09.863 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-13 09:36:09.868 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-13 09:36:09.869 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.trips.TripsAll'.
[2025-10-13 09:36:09.890 +03:00  INF]  Executed action ITravel_App.Controllers.TravelClientController.GetTripDetails (ITravel_App) in 193.9142ms
[2025-10-13 09:36:09.890 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelClientController.GetTripDetails (ITravel_App)'
[2025-10-13 09:36:09.891 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelClient/GetTripDetails - 200 12191 application/json; charset=utf-8 245.7132ms
[2025-10-13 09:37:31.558 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - application/json-patch+json 740
[2025-10-13 09:37:31.559 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:37:31.567 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 09:37:31.569 +03:00  INF]  Route matched with {action = "SaveClientBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveClientBooking(ITravelApp.Data.Models.Bookings.BookingCls) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 09:37:50.480 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:37:50.480 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App) in 18910.5933ms
[2025-10-13 09:37:50.480 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 09:37:50.480 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - 200 85 application/json; charset=utf-8 18921.9634ms
[2025-10-13 09:38:23.870 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - application/json-patch+json 744
[2025-10-13 09:38:23.873 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:38:23.879 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 09:38:23.879 +03:00  INF]  Route matched with {action = "SaveClientBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveClientBooking(ITravelApp.Data.Models.Bookings.BookingCls) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 09:38:31.515 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trips_booking AS t
[2025-10-13 09:38:36.788 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trips_booking AS t
[2025-10-13 09:38:39.542 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Int16), @p20='?' (DbType = Int32), @p21='?' (DbType = Decimal), @p22='?', @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int64), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trips_booking (id, booking_code, booking_code_auto, booking_date, booking_notes, booking_status, child_ages, child_num, client_email, client_id, client_name, client_nationality, client_phone, currency_code, gift_code, infant_num, is_two_way, pickup_address, pickup_time, pricing_type, total_pax, total_price, trip_code, trip_date, trip_id, trip_return_date, trip_type)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);
[2025-10-13 09:38:43.729 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__is_obligatory_3='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id, CASE
    WHEN f2.id IS NOT NULL THEN f2.pricing_type
    ELSE 0
END AS pricing_type, f2.is_obligatory
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2 AND f1.is_obligatory = @__is_obligatory_3
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-13 09:39:52.666 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__row_extra_id_0='?' (DbType = Int32), @__row_booking_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.id, b.booking_id, b.created_at, b.created_by, b.extra_count, b.extra_id, b.updated_at
FROM booking_extra AS b
WHERE b.extra_id = @__row_extra_id_0 AND b.booking_id = @__row_booking_id_1
LIMIT 2
[2025-10-13 09:39:52.670 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM booking_extra AS b
[2025-10-13 09:39:52.673 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(b.id)
FROM booking_extra AS b
[2025-10-13 09:39:52.698 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO booking_extra (id, booking_id, created_at, created_by, extra_count, extra_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING updated_at;
[2025-10-13 09:39:52.701 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__row_extra_id_0='?' (DbType = Int32), @__row_booking_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.id, b.booking_id, b.created_at, b.created_by, b.extra_count, b.extra_id, b.updated_at
FROM booking_extra AS b
WHERE b.extra_id = @__row_extra_id_0 AND b.booking_id = @__row_booking_id_1
LIMIT 2
[2025-10-13 09:39:52.702 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM booking_extra AS b
[2025-10-13 09:39:52.702 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(b.id)
FROM booking_extra AS b
[2025-10-13 09:39:52.703 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO booking_extra (id, booking_id, created_at, created_by, extra_count, extra_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING updated_at;
[2025-10-13 09:39:52.704 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__row_extra_id_0='?' (DbType = Int32), @__row_booking_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.id, b.booking_id, b.created_at, b.created_by, b.extra_count, b.extra_id, b.updated_at
FROM booking_extra AS b
WHERE b.extra_id = @__row_extra_id_0 AND b.booking_id = @__row_booking_id_1
LIMIT 2
[2025-10-13 09:39:52.705 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM booking_extra AS b
[2025-10-13 09:39:52.705 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(b.id)
FROM booking_extra AS b
[2025-10-13 09:39:52.706 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO booking_extra (id, booking_id, created_at, created_by, extra_count, extra_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING updated_at;
[2025-10-13 09:40:21.726 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 09:40:21.726 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:40:21.726 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 1.2657ms
[2025-10-13 09:40:22.465 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - null null
[2025-10-13 09:40:22.465 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - null null
[2025-10-13 09:40:22.465 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:40:22.465 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - 204 null null 0.9568ms
[2025-10-13 09:40:22.465 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:40:22.466 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - 204 null null 1.1067ms
[2025-10-13 09:40:22.537 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 09:40:22.538 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:40:22.538 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - application/json 2
[2025-10-13 09:40:22.538 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - application/json 2
[2025-10-13 09:40:22.538 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:40:22.538 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:40:22.538 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityAllWithSelect (ITravel_App)'
[2025-10-13 09:40:22.538 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 09:40:22.538 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App)'
[2025-10-13 09:40:22.538 +03:00  INF]  Route matched with {action = "GetTrip_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Mains(Int32, Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:40:22.538 +03:00  INF]  Route matched with {action = "GetFacilityAllWithSelect", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetFacilityAllWithSelect(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:40:22.538 +03:00  INF]  Route matched with {action = "GetFacilityWithTranslation", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetFacilityWithTranslation() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:40:22.560 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:40:22.562 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:40:22.563 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:40:22.564 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:40:22.623 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:40:22.625 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:40:22.625 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:40:22.626 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.global.FacilityWithTranslationGrp, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:40:25.306 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App) in 2768.1036ms
[2025-10-13 09:40:25.306 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App)'
[2025-10-13 09:40:25.307 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - 200 2659 application/json; charset=utf-8 2768.9529ms
[2025-10-13 09:40:26.156 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT f.active, f.facility_code, f.facility_default_name, f.id AS facility_id, CASE
    WHEN t0.id IS NOT NULL THEN t0.id
    ELSE 0
END AS fac_trip_id, f.pricing_type, f.extra_price, f.is_obligatory, CASE
    WHEN t0.id IS NOT NULL AND t0.id > 0 THEN TRUE
    ELSE FALSE
END AS selected
FROM facility_main AS f
LEFT JOIN (
    SELECT t.id, t.facility_id
    FROM trip_facility AS t
    WHERE t.trip_id = @__trip_id_0
) AS t0 ON f.id = t0.facility_id
WHERE f.active
[2025-10-13 09:40:26.156 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.FacilityAllWithSelect, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:40:26.156 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetFacilityAllWithSelect (ITravel_App) in 3617.9712ms
[2025-10-13 09:40:26.156 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityAllWithSelect (ITravel_App)'
[2025-10-13 09:40:26.156 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityAllWithSelect?trip_id=2 - 200 1724 application/json; charset=utf-8 3619.4657ms
[2025-10-13 09:40:44.770 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-13 09:40:45.353 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-13 09:40:45.354 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-13 09:40:45.985 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-13 09:40:45.986 +03:00  INF]  Hosting environment: Development
[2025-10-13 09:40:45.986 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-13 09:40:46.439 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-13 09:40:46.727 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 296.9868ms
[2025-10-13 09:40:46.950 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-13 09:40:47.019 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 68.0453ms
[2025-10-13 09:40:47.272 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-13 09:40:47.347 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.1878ms
[2025-10-13 09:40:47.683 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-13 09:40:47.757 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.7189ms
[2025-10-13 09:40:58.129 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - null null
[2025-10-13 09:40:58.134 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:40:58.136 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - 204 null null 7.1797ms
[2025-10-13 09:40:58.138 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - application/json 2
[2025-10-13 09:40:58.139 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:40:58.386 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App)'
[2025-10-13 09:40:58.406 +03:00  INF]  Route matched with {action = "GetFacilityWithTranslation", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetFacilityWithTranslation() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:41:00.144 +03:00  INF]  Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:41:00.219 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:41:00.220 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:41:00.222 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:41:00.222 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:41:00.223 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:41:00.224 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:41:00.232 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.global.FacilityWithTranslationGrp, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:41:00.330 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App) in 1919.1571ms
[2025-10-13 09:41:00.331 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App)'
[2025-10-13 09:41:00.338 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - 200 2659 application/json; charset=utf-8 2199.5866ms
[2025-10-13 09:41:02.787 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Currencies - null null
[2025-10-13 09:41:02.788 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:41:02.789 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Currencies - 204 null null 1.7704ms
[2025-10-13 09:41:02.802 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Currencies - application/json 2
[2025-10-13 09:41:02.802 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:41:02.818 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App)'
[2025-10-13 09:41:02.823 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:41:02.944 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-13 09:41:03.008 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.tbl_currency, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:41:03.012 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App) in 188.7078ms
[2025-10-13 09:41:03.012 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Currencies (ITravel_App)'
[2025-10-13 09:41:03.013 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Currencies - 200 176 application/json; charset=utf-8 211.2007ms
[2025-10-13 09:44:44.797 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelClient/GetTripDetails - application/json-patch+json 101
[2025-10-13 09:44:44.805 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:44:44.826 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelClientController.GetTripDetails (ITravel_App)'
[2025-10-13 09:44:44.838 +03:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ITravelApp.Data.Models.trips.TripDetailsReq) on controller ITravel_App.Controllers.TravelClientController (ITravel_App).
[2025-10-13 09:44:45.023 +03:00  INF]  Executed DbCommand (18ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64), @__req_trip_type_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND t.trip_type = @__req_trip_type_2
[2025-10-13 09:44:45.050 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-13 09:44:45.067 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
ORDER BY t.trip_sale_price
LIMIT 1
[2025-10-13 09:44:45.150 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__is_obligatory_3='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id, CASE
    WHEN f2.id IS NOT NULL THEN f2.pricing_type
    ELSE 0
END AS pricing_type, f2.is_obligatory
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2 AND f1.is_obligatory = @__is_obligatory_3
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-13 09:44:45.169 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-13 09:44:45.179 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-13 09:44:45.192 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-13 09:44:45.200 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-13 09:44:45.207 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-13 09:44:45.208 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.trips.TripsAll'.
[2025-10-13 09:44:45.245 +03:00  INF]  Executed action ITravel_App.Controllers.TravelClientController.GetTripDetails (ITravel_App) in 406.0272ms
[2025-10-13 09:44:45.245 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelClientController.GetTripDetails (ITravel_App)'
[2025-10-13 09:44:45.245 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelClient/GetTripDetails - 200 12191 application/json; charset=utf-8 448.054ms
[2025-10-13 09:50:07.829 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-13 09:50:09.119 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-13 09:50:09.120 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-13 09:50:09.358 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-13 09:50:09.358 +03:00  INF]  Hosting environment: Development
[2025-10-13 09:50:09.358 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-13 09:50:10.142 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-13 09:50:10.472 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 341.4095ms
[2025-10-13 09:50:10.515 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-13 09:50:10.547 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-13 09:50:10.606 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 91.3149ms
[2025-10-13 09:50:10.687 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 139.9396ms
[2025-10-13 09:50:10.840 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-13 09:50:11.061 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 221.043ms
[2025-10-13 09:51:09.840 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelClient/GetTripDetails - application/json-patch+json 102
[2025-10-13 09:51:09.852 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:51:10.023 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelClientController.GetTripDetails (ITravel_App)'
[2025-10-13 09:51:10.064 +03:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ITravelApp.Data.Models.trips.TripDetailsReq) on controller ITravel_App.Controllers.TravelClientController (ITravel_App).
[2025-10-13 09:51:11.855 +03:00  INF]  Executed DbCommand (70ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64), @__req_trip_type_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND t.trip_type = @__req_trip_type_2
[2025-10-13 09:51:11.915 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-13 09:51:11.935 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
ORDER BY t.trip_sale_price
LIMIT 1
[2025-10-13 09:51:12.066 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__is_obligatory_3='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT f0.facility_desc, f0.facility_name, f2.extra_price, f2.currency_code, f2.is_extra, t.facility_id, f2.pricing_type, f2.is_obligatory
FROM trip_facility AS t
INNER JOIN (
    SELECT f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2 AND f1.is_obligatory = @__is_obligatory_3
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-13 09:51:12.084 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-13 09:51:12.096 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-13 09:51:12.112 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-13 09:51:12.117 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-13 09:51:12.124 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-13 09:51:12.135 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.trips.TripsAll'.
[2025-10-13 09:51:12.215 +03:00  INF]  Executed action ITravel_App.Controllers.TravelClientController.GetTripDetails (ITravel_App) in 2147.0727ms
[2025-10-13 09:51:12.215 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelClientController.GetTripDetails (ITravel_App)'
[2025-10-13 09:51:12.226 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelClient/GetTripDetails - 200 11716 application/json; charset=utf-8 2386.1562ms
[2025-10-13 09:54:59.965 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - application/json-patch+json 740
[2025-10-13 09:54:59.967 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:54:59.998 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 09:55:00.004 +03:00  INF]  Route matched with {action = "SaveClientBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveClientBooking(ITravelApp.Data.Models.Bookings.BookingCls) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 09:55:12.366 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:55:12.368 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App) in 12363.2825ms
[2025-10-13 09:55:12.368 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 09:55:12.368 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - 200 85 application/json; charset=utf-8 12404.4556ms
[2025-10-13 09:55:31.371 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - application/json-patch+json 744
[2025-10-13 09:55:31.372 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:55:31.381 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 09:55:31.381 +03:00  INF]  Route matched with {action = "SaveClientBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveClientBooking(ITravelApp.Data.Models.Bookings.BookingCls) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 09:55:39.350 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trips_booking AS t
[2025-10-13 09:55:40.618 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trips_booking AS t
[2025-10-13 09:55:44.358 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Int16), @p20='?' (DbType = Int32), @p21='?' (DbType = Decimal), @p22='?', @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int64), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trips_booking (id, booking_code, booking_code_auto, booking_date, booking_notes, booking_status, child_ages, child_num, client_email, client_id, client_name, client_nationality, client_phone, currency_code, gift_code, infant_num, is_two_way, pickup_address, pickup_time, pricing_type, total_pax, total_price, trip_code, trip_date, trip_id, trip_return_date, trip_type)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);
[2025-10-13 09:55:50.170 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__is_obligatory_3='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT f0.facility_desc, f0.facility_name, f2.extra_price, f2.currency_code, f2.is_extra, t.facility_id, f2.pricing_type, f2.is_obligatory
FROM trip_facility AS t
INNER JOIN (
    SELECT f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2 AND f1.is_obligatory = @__is_obligatory_3
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-13 09:56:10.143 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-10-13 09:56:10.190 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-10-13 09:56:10.200 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 09:56:10.201 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 09:56:10.232 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.booking_code, t.booking_code_auto, t.booking_date, t.booking_notes, t.booking_status, t.child_ages, t.child_num, t.client_email, t.client_id, t.client_name, t.client_nationality, t.client_phone, t.currency_code, t.gift_code, t.infant_num, t.is_two_way, t.pickup_address, t.pickup_time, t.pricing_type, t.total_pax, t.total_price, t.trip_code, t.trip_date, t.trip_id, t.trip_return_date, t.trip_type
FROM trips_booking AS t
WHERE t.id = @__8__locals1_req_booking_id_0
LIMIT 2
[2025-10-13 09:56:10.265 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p26='?' (DbType = Int64), @p0='?', @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Int32), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Int32), @p15='?' (DbType = Boolean), @p16='?', @p17='?', @p18='?' (DbType = Int16), @p19='?' (DbType = Int32), @p20='?' (DbType = Decimal), @p21='?', @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int64), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE trips_booking SET booking_code = @p0, booking_code_auto = @p1, booking_date = @p2, booking_notes = @p3, booking_status = @p4, child_ages = @p5, child_num = @p6, client_email = @p7, client_id = @p8, client_name = @p9, client_nationality = @p10, client_phone = @p11, currency_code = @p12, gift_code = @p13, infant_num = @p14, is_two_way = @p15, pickup_address = @p16, pickup_time = @p17, pricing_type = @p18, total_pax = @p19, total_price = @p20, trip_code = @p21, trip_date = @p22, trip_id = @p23, trip_return_date = @p24, trip_type = @p25
WHERE id = @p26;
[2025-10-13 09:56:10.267 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:56:10.267 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App) in 38885.4577ms
[2025-10-13 09:56:10.267 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 09:56:10.267 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - 200 123 application/json; charset=utf-8 38896.1658ms
[2025-10-13 09:57:06.036 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Languages - null null
[2025-10-13 09:57:06.036 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:06.037 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Languages - 204 null null 1.3802ms
[2025-10-13 09:57:06.039 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Languages - application/json 2
[2025-10-13 09:57:06.039 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:06.042 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Languages (ITravel_App)'
[2025-10-13 09:57:06.045 +03:00  INF]  Route matched with {action = "Get_Languages", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Languages() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:57:06.170 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.lang_code, t.lang_name
FROM tbl_languages AS t
[2025-10-13 09:57:06.177 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.tbl_language, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:57:06.179 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.Get_Languages (ITravel_App) in 133.9852ms
[2025-10-13 09:57:06.179 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Languages (ITravel_App)'
[2025-10-13 09:57:06.179 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Languages - 200 96 application/json; charset=utf-8 140.2908ms
[2025-10-13 09:57:17.654 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Languages - null null
[2025-10-13 09:57:17.654 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:17.654 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Languages - 204 null null 0.4337ms
[2025-10-13 09:57:17.658 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Languages - application/json 2
[2025-10-13 09:57:17.658 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:17.672 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Languages (ITravel_App)'
[2025-10-13 09:57:17.672 +03:00  INF]  Route matched with {action = "Get_Languages", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Languages() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:57:17.675 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.lang_code, t.lang_name
FROM tbl_languages AS t
[2025-10-13 09:57:17.678 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.tbl_language, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:57:17.678 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.Get_Languages (ITravel_App) in 6.6253ms
[2025-10-13 09:57:17.678 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Languages (ITravel_App)'
[2025-10-13 09:57:17.679 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Languages - 200 96 application/json; charset=utf-8 20.7109ms
[2025-10-13 09:57:21.227 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveFacilityTranslation - null null
[2025-10-13 09:57:21.227 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:21.227 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveFacilityTranslation - 204 null null 0.5342ms
[2025-10-13 09:57:21.230 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveFacilityTranslation - application/json 112
[2025-10-13 09:57:21.230 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:21.232 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveFacilityTranslation (ITravel_App)'
[2025-10-13 09:57:21.235 +03:00  INF]  Route matched with {action = "SaveFacilityTranslation", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveFacilityTranslation(ITravelApp.Data.Models.trips.FacilityTranslationReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:57:21.262 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__facility_lang_code_0='?', @__facility_facility_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT f.id, f.created_at, f.created_by, f.facility_desc, f.facility_id, f.facility_name, f.lang_code, f.updated_at
FROM facility_translations AS f
WHERE f.lang_code = @__facility_lang_code_0 AND f.facility_id = @__facility_facility_id_1
LIMIT 2
[2025-10-13 09:57:21.267 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM facility_translations AS f
[2025-10-13 09:57:21.270 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(f.id)
FROM facility_translations AS f
[2025-10-13 09:57:21.296 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?', @p3='?' (DbType = Int64), @p4='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO facility_translations (id, created_by, facility_desc, facility_id, facility_name, lang_code)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING created_at, updated_at;
[2025-10-13 09:57:21.311 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:57:21.312 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveFacilityTranslation (ITravel_App) in 76.852ms
[2025-10-13 09:57:21.312 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveFacilityTranslation (ITravel_App)'
[2025-10-13 09:57:21.312 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveFacilityTranslation - 200 53 application/json; charset=utf-8 82.0066ms
[2025-10-13 09:57:21.331 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - null null
[2025-10-13 09:57:21.331 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:21.331 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - 204 null null 0.5182ms
[2025-10-13 09:57:21.332 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - application/json 2
[2025-10-13 09:57:21.332 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:21.333 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App)'
[2025-10-13 09:57:21.334 +03:00  INF]  Route matched with {action = "GetFacilityWithTranslation", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetFacilityWithTranslation() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:57:21.384 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:21.395 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:21.397 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:21.398 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:21.398 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:21.399 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:21.400 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:21.401 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.global.FacilityWithTranslationGrp, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:57:21.410 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App) in 76.2392ms
[2025-10-13 09:57:21.411 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App)'
[2025-10-13 09:57:21.411 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - 200 2983 application/json; charset=utf-8 78.8216ms
[2025-10-13 09:57:22.909 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Languages - null null
[2025-10-13 09:57:22.909 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:22.909 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Languages - 204 null null 0.5815ms
[2025-10-13 09:57:22.911 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Languages - application/json 2
[2025-10-13 09:57:22.911 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:22.912 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Languages (ITravel_App)'
[2025-10-13 09:57:22.912 +03:00  INF]  Route matched with {action = "Get_Languages", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Languages() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:57:22.919 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.lang_code, t.lang_name
FROM tbl_languages AS t
[2025-10-13 09:57:22.925 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.tbl_language, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:57:22.925 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.Get_Languages (ITravel_App) in 13.1276ms
[2025-10-13 09:57:22.925 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Languages (ITravel_App)'
[2025-10-13 09:57:22.926 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Languages - 200 96 application/json; charset=utf-8 14.8494ms
[2025-10-13 09:57:33.661 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Languages - null null
[2025-10-13 09:57:33.662 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:33.662 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/Get_Languages - 204 null null 0.7566ms
[2025-10-13 09:57:33.664 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Languages - application/json 2
[2025-10-13 09:57:33.664 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:33.665 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Languages (ITravel_App)'
[2025-10-13 09:57:33.665 +03:00  INF]  Route matched with {action = "Get_Languages", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Languages() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:57:33.672 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.lang_code, t.lang_name
FROM tbl_languages AS t
[2025-10-13 09:57:33.673 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.tbl_language, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:57:33.673 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.Get_Languages (ITravel_App) in 8.2901ms
[2025-10-13 09:57:33.673 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.Get_Languages (ITravel_App)'
[2025-10-13 09:57:33.674 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/Get_Languages - 200 96 application/json; charset=utf-8 10.2124ms
[2025-10-13 09:57:37.129 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveFacilityTranslation - null null
[2025-10-13 09:57:37.129 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:37.129 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveFacilityTranslation - 204 null null 0.4725ms
[2025-10-13 09:57:37.132 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveFacilityTranslation - application/json 110
[2025-10-13 09:57:37.132 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:37.132 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveFacilityTranslation (ITravel_App)'
[2025-10-13 09:57:37.132 +03:00  INF]  Route matched with {action = "SaveFacilityTranslation", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveFacilityTranslation(ITravelApp.Data.Models.trips.FacilityTranslationReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:57:37.135 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__facility_lang_code_0='?', @__facility_facility_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT f.id, f.created_at, f.created_by, f.facility_desc, f.facility_id, f.facility_name, f.lang_code, f.updated_at
FROM facility_translations AS f
WHERE f.lang_code = @__facility_lang_code_0 AND f.facility_id = @__facility_facility_id_1
LIMIT 2
[2025-10-13 09:57:37.135 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM facility_translations AS f
[2025-10-13 09:57:37.136 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(f.id)
FROM facility_translations AS f
[2025-10-13 09:57:37.140 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?', @p3='?' (DbType = Int64), @p4='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO facility_translations (id, created_by, facility_desc, facility_id, facility_name, lang_code)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING created_at, updated_at;
[2025-10-13 09:57:37.140 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:57:37.141 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveFacilityTranslation (ITravel_App) in 8.1769ms
[2025-10-13 09:57:37.141 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveFacilityTranslation (ITravel_App)'
[2025-10-13 09:57:37.141 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveFacilityTranslation - 200 53 application/json; charset=utf-8 9.3012ms
[2025-10-13 09:57:37.190 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - null null
[2025-10-13 09:57:37.190 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:37.190 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - 204 null null 0.2505ms
[2025-10-13 09:57:37.192 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - application/json 2
[2025-10-13 09:57:37.192 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:37.192 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App)'
[2025-10-13 09:57:37.192 +03:00  INF]  Route matched with {action = "GetFacilityWithTranslation", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetFacilityWithTranslation() on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 09:57:37.194 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:37.195 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:37.197 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:37.199 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:37.201 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:37.202 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:37.203 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f.id AS facility_id, CASE
    WHEN f0.id IS NOT NULL THEN f0.id
    ELSE 0
END AS id, f.facility_code, f.facility_default_name, f0.facility_desc, f0.facility_name, f0.lang_code, f.active, f.currency_code, f.extra_price, f.is_obligatory, f.pricing_type, f.is_extra
FROM facility_main AS f
LEFT JOIN facility_translations AS f0 ON f.id = f0.facility_id
[2025-10-13 09:57:37.203 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.global.FacilityWithTranslationGrp, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 09:57:37.203 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App) in 10.7489ms
[2025-10-13 09:57:37.203 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetFacilityWithTranslation (ITravel_App)'
[2025-10-13 09:57:37.203 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetFacilityWithTranslation - 200 3303 application/json; charset=utf-8 11.6509ms
[2025-10-13 09:57:44.775 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - application/json-patch+json 744
[2025-10-13 09:57:44.776 +03:00  INF]  CORS policy execution successful.
[2025-10-13 09:57:44.776 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 09:57:44.776 +03:00  INF]  Route matched with {action = "SaveClientBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveClientBooking(ITravelApp.Data.Models.Bookings.BookingCls) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 09:57:46.659 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trips_booking AS t
[2025-10-13 09:57:46.660 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trips_booking AS t
[2025-10-13 09:57:46.664 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Int16), @p20='?' (DbType = Int32), @p21='?' (DbType = Decimal), @p22='?', @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int64), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trips_booking (id, booking_code, booking_code_auto, booking_date, booking_notes, booking_status, child_ages, child_num, client_email, client_id, client_name, client_nationality, client_phone, currency_code, gift_code, infant_num, is_two_way, pickup_address, pickup_time, pricing_type, total_pax, total_price, trip_code, trip_date, trip_id, trip_return_date, trip_type)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);
[2025-10-13 09:57:50.250 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__is_obligatory_3='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT f0.facility_desc, f0.facility_name, f2.extra_price, f2.currency_code, f2.is_extra, t.facility_id, f2.pricing_type, f2.is_obligatory
FROM trip_facility AS t
INNER JOIN (
    SELECT f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2 AND f1.is_obligatory = @__is_obligatory_3
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-13 09:57:57.601 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__row_extra_id_0='?' (DbType = Int32), @__row_booking_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.id, b.booking_id, b.created_at, b.created_by, b.extra_count, b.extra_id, b.updated_at
FROM booking_extra AS b
WHERE b.extra_id = @__row_extra_id_0 AND b.booking_id = @__row_booking_id_1
LIMIT 2
[2025-10-13 09:57:57.604 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM booking_extra AS b
[2025-10-13 09:57:57.608 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(b.id)
FROM booking_extra AS b
[2025-10-13 09:57:57.632 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO booking_extra (id, booking_id, created_at, created_by, extra_count, extra_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING updated_at;
[2025-10-13 09:57:57.639 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__row_extra_id_0='?' (DbType = Int32), @__row_booking_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.id, b.booking_id, b.created_at, b.created_by, b.extra_count, b.extra_id, b.updated_at
FROM booking_extra AS b
WHERE b.extra_id = @__row_extra_id_0 AND b.booking_id = @__row_booking_id_1
LIMIT 2
[2025-10-13 09:57:57.639 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM booking_extra AS b
[2025-10-13 09:57:57.640 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(b.id)
FROM booking_extra AS b
[2025-10-13 09:57:57.641 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO booking_extra (id, booking_id, created_at, created_by, extra_count, extra_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING updated_at;
[2025-10-13 09:58:53.804 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-10-13 09:59:00.108 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-10-13 09:59:08.457 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 09:59:08.458 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 09:59:08.460 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.booking_code, t.booking_code_auto, t.booking_date, t.booking_notes, t.booking_status, t.child_ages, t.child_num, t.client_email, t.client_id, t.client_name, t.client_nationality, t.client_phone, t.currency_code, t.gift_code, t.infant_num, t.is_two_way, t.pickup_address, t.pickup_time, t.pricing_type, t.total_pax, t.total_price, t.trip_code, t.trip_date, t.trip_id, t.trip_return_date, t.trip_type
FROM trips_booking AS t
WHERE t.id = @__8__locals1_req_booking_id_0
LIMIT 2
[2025-10-13 09:59:08.462 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p26='?' (DbType = Int64), @p0='?', @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Int32), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Int32), @p15='?' (DbType = Boolean), @p16='?', @p17='?', @p18='?' (DbType = Int16), @p19='?' (DbType = Int32), @p20='?' (DbType = Decimal), @p21='?', @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int64), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE trips_booking SET booking_code = @p0, booking_code_auto = @p1, booking_date = @p2, booking_notes = @p3, booking_status = @p4, child_ages = @p5, child_num = @p6, client_email = @p7, client_id = @p8, client_name = @p9, client_nationality = @p10, client_phone = @p11, currency_code = @p12, gift_code = @p13, infant_num = @p14, is_two_way = @p15, pickup_address = @p16, pickup_time = @p17, pricing_type = @p18, total_pax = @p19, total_price = @p20, trip_code = @p21, trip_date = @p22, trip_id = @p23, trip_return_date = @p24, trip_type = @p25
WHERE id = @p26;
[2025-10-13 09:59:08.462 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 09:59:08.463 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App) in 83686.1803ms
[2025-10-13 09:59:08.463 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 09:59:08.463 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - 200 123 application/json; charset=utf-8 83688.3053ms
[2025-10-13 10:00:29.247 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - application/json-patch+json 61
[2025-10-13 10:00:29.249 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:00:29.255 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:00:29.261 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ITravelApp.Data.Models.Bookings.BookingReq) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:00:29.289 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_id_1='?' (DbType = Int64), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_id = @__req_booking_id_1 AND b.client_id = @__req_client_id_2
LIMIT 2
[2025-10-13 10:00:29.321 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price * b.extra_count::numeric AS extra_price, b.id, f2.is_obligatory
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_obligatory
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-13 10:00:29.325 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price * b.extra_count::numeric AS extra_price, b.id, f2.is_obligatory
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_obligatory
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-13 10:00:29.326 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.Bookings.Client.BookingSummary'.
[2025-10-13 10:00:29.339 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App) in 78.1906ms
[2025-10-13 10:00:29.339 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:00:29.340 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - 200 1939 application/json; charset=utf-8 92.7298ms
[2025-10-13 10:02:02.063 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/AssignExtraToBooking - application/json-patch+json 156
[2025-10-13 10:02:02.063 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:02:02.069 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.AssignExtraToBooking (ITravel_App)'
[2025-10-13 10:02:02.071 +03:00  INF]  Route matched with {action = "AssignExtraToBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AssignExtraToBooking(System.Collections.Generic.List`1[ITravelApp.Data.Entities.booking_extra]) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:02:02.084 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__row_extra_id_0='?' (DbType = Int32), @__row_booking_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.id, b.booking_id, b.created_at, b.created_by, b.extra_count, b.extra_id, b.updated_at
FROM booking_extra AS b
WHERE b.extra_id = @__row_extra_id_0 AND b.booking_id = @__row_booking_id_1
LIMIT 2
[2025-10-13 10:02:02.085 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM booking_extra AS b
[2025-10-13 10:02:02.085 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(b.id)
FROM booking_extra AS b
[2025-10-13 10:02:02.088 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO booking_extra (id, booking_id, created_at, created_by, extra_count, extra_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING updated_at;
[2025-10-13 10:02:02.089 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 10:02:02.089 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.AssignExtraToBooking (ITravel_App) in 17.5621ms
[2025-10-13 10:02:02.089 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.AssignExtraToBooking (ITravel_App)'
[2025-10-13 10:02:02.089 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/AssignExtraToBooking - 200 53 application/json; charset=utf-8 26.345ms
[2025-10-13 10:02:21.714 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/AssignExtraToBooking - application/json-patch+json 156
[2025-10-13 10:02:21.714 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:02:21.715 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.AssignExtraToBooking (ITravel_App)'
[2025-10-13 10:02:21.715 +03:00  INF]  Route matched with {action = "AssignExtraToBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AssignExtraToBooking(System.Collections.Generic.List`1[ITravelApp.Data.Entities.booking_extra]) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:02:21.716 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__row_extra_id_0='?' (DbType = Int32), @__row_booking_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.id, b.booking_id, b.created_at, b.created_by, b.extra_count, b.extra_id, b.updated_at
FROM booking_extra AS b
WHERE b.extra_id = @__row_extra_id_0 AND b.booking_id = @__row_booking_id_1
LIMIT 2
[2025-10-13 10:02:21.719 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (DbType = DateTime2), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE booking_extra SET booking_id = @p0, created_at = @p1, created_by = @p2, extra_count = @p3, extra_id = @p4, updated_at = @p5
WHERE id = @p6;
[2025-10-13 10:02:21.720 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 10:02:21.720 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.AssignExtraToBooking (ITravel_App) in 5.0956ms
[2025-10-13 10:02:21.720 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.AssignExtraToBooking (ITravel_App)'
[2025-10-13 10:02:21.720 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/AssignExtraToBooking - 200 53 application/json; charset=utf-8 6.6531ms
[2025-10-13 10:02:46.116 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - application/json-patch+json 61
[2025-10-13 10:02:46.116 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:02:46.117 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:02:46.117 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ITravelApp.Data.Models.Bookings.BookingReq) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:02:46.218 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_id_1='?' (DbType = Int64), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_id = @__req_booking_id_1 AND b.client_id = @__req_client_id_2
LIMIT 2
[2025-10-13 10:02:46.222 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price * b.extra_count::numeric AS extra_price, b.id, f2.is_obligatory
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_obligatory
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-13 10:02:46.224 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price * b.extra_count::numeric AS extra_price, b.id, f2.is_obligatory
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_obligatory
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-13 10:02:46.224 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.Bookings.Client.BookingSummary'.
[2025-10-13 10:02:46.224 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App) in 107.1877ms
[2025-10-13 10:02:46.224 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:02:46.225 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - 200 2135 application/json; charset=utf-8 108.7328ms
[2025-10-13 10:09:12.893 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-13 10:09:13.627 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-13 10:09:13.628 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-13 10:09:13.771 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-13 10:09:13.771 +03:00  INF]  Hosting environment: Development
[2025-10-13 10:09:13.772 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-13 10:09:14.893 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-13 10:09:15.191 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 311.3826ms
[2025-10-13 10:09:15.258 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-13 10:09:15.258 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-13 10:09:15.270 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 11.5968ms
[2025-10-13 10:09:15.339 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.9333ms
[2025-10-13 10:09:15.639 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-13 10:09:15.752 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 112.4875ms
[2025-10-13 10:10:27.764 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - application/json-patch+json 62
[2025-10-13 10:10:27.770 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:10:27.963 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:10:27.994 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ITravelApp.Data.Models.Bookings.BookingReq) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:10:29.917 +03:00  INF]  Executed DbCommand (73ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_id_1='?' (DbType = Int64), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_id = @__req_booking_id_1 AND b.client_id = @__req_client_id_2
LIMIT 2
[2025-10-13 10:10:30.073 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type, CASE
    WHEN f2.pricing_type = 1 THEN f2.extra_price * b.extra_count::numeric
    ELSE f2.extra_price
END AS total_extra_price
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-13 10:10:30.086 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type, CASE
    WHEN f2.pricing_type = 1 THEN f2.extra_price * b.extra_count::numeric
    ELSE f2.extra_price
END AS total_extra_price
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-13 10:10:30.096 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.Bookings.Client.BookingSummary'.
[2025-10-13 10:10:30.153 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App) in 2155.3202ms
[2025-10-13 10:10:30.155 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:10:30.164 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - 200 2261 application/json; charset=utf-8 2399.5325ms
[2025-10-13 10:14:36.025 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelClient/CalculateBookingPrice - application/json-patch+json 458
[2025-10-13 10:14:36.032 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:14:36.038 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App)'
[2025-10-13 10:14:36.042 +03:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ITravelApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ITravel_App.Controllers.TravelClientController (ITravel_App).
[2025-10-13 10:14:36.092 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-10-13 10:14:36.178 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-10-13 10:14:36.192 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:14:36.194 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:14:36.204 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.booking_code, t.booking_code_auto, t.booking_date, t.booking_notes, t.booking_status, t.child_ages, t.child_num, t.client_email, t.client_id, t.client_name, t.client_nationality, t.client_phone, t.currency_code, t.gift_code, t.infant_num, t.is_two_way, t.pickup_address, t.pickup_time, t.pricing_type, t.total_pax, t.total_price, t.trip_code, t.trip_date, t.trip_id, t.trip_return_date, t.trip_type
FROM trips_booking AS t
WHERE t.id = @__8__locals1_req_booking_id_0
LIMIT 2
[2025-10-13 10:14:36.354 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@p26='?' (DbType = Int64), @p0='?', @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Int32), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Int32), @p15='?' (DbType = Boolean), @p16='?', @p17='?', @p18='?' (DbType = Int16), @p19='?' (DbType = Int32), @p20='?' (DbType = Decimal), @p21='?', @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int64), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE trips_booking SET booking_code = @p0, booking_code_auto = @p1, booking_date = @p2, booking_notes = @p3, booking_status = @p4, child_ages = @p5, child_num = @p6, client_email = @p7, client_id = @p8, client_name = @p9, client_nationality = @p10, client_phone = @p11, currency_code = @p12, gift_code = @p13, infant_num = @p14, is_two_way = @p15, pickup_address = @p16, pickup_time = @p17, pricing_type = @p18, total_pax = @p19, total_price = @p20, trip_code = @p21, trip_date = @p22, trip_id = @p23, trip_return_date = @p24, trip_type = @p25
WHERE id = @p26;
[2025-10-13 10:14:36.402 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-10-13 10:14:36.405 +03:00  INF]  Executed action ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App) in 363.6795ms
[2025-10-13 10:14:36.406 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App)'
[2025-10-13 10:14:36.406 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelClient/CalculateBookingPrice - 200 159 application/json; charset=utf-8 382.1279ms
[2025-10-13 10:15:09.947 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-13 10:15:11.184 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-13 10:15:11.185 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-13 10:15:11.349 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-13 10:15:11.350 +03:00  INF]  Hosting environment: Development
[2025-10-13 10:15:11.350 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-13 10:15:11.951 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-13 10:15:12.310 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 361.9411ms
[2025-10-13 10:15:12.365 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-13 10:15:12.368 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-13 10:15:12.380 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 15.1792ms
[2025-10-13 10:15:12.451 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.5287ms
[2025-10-13 10:15:12.523 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-13 10:15:12.621 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.0661ms
[2025-10-13 10:15:51.636 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - application/json-patch+json 62
[2025-10-13 10:15:51.646 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:15:51.813 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:15:51.838 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ITravelApp.Data.Models.Bookings.BookingReq) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:15:53.666 +03:00  INF]  Executed DbCommand (75ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_id_1='?' (DbType = Int64), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_id = @__req_booking_id_1 AND b.client_id = @__req_client_id_2
LIMIT 2
[2025-10-13 10:15:53.824 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-13 10:15:53.830 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-13 10:15:53.840 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.Bookings.Client.BookingSummary'.
[2025-10-13 10:15:53.895 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App) in 2053.0951ms
[2025-10-13 10:15:53.895 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:15:53.905 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - 200 2185 application/json; charset=utf-8 2269.0101ms
[2025-10-13 10:18:24.573 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelClient/CalculateBookingPrice - application/json-patch+json 455
[2025-10-13 10:18:24.578 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:18:24.582 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App)'
[2025-10-13 10:18:24.585 +03:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ITravelApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ITravel_App.Controllers.TravelClientController (ITravel_App).
[2025-10-13 10:19:37.032 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-10-13 10:19:41.078 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-10-13 10:19:57.942 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:20:05.961 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:20:58.166 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.booking_code, t.booking_code_auto, t.booking_date, t.booking_notes, t.booking_status, t.child_ages, t.child_num, t.client_email, t.client_id, t.client_name, t.client_nationality, t.client_phone, t.currency_code, t.gift_code, t.infant_num, t.is_two_way, t.pickup_address, t.pickup_time, t.pricing_type, t.total_pax, t.total_price, t.trip_code, t.trip_date, t.trip_id, t.trip_return_date, t.trip_type
FROM trips_booking AS t
WHERE t.id = @__8__locals1_req_booking_id_0
LIMIT 2
[2025-10-13 10:21:02.599 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@p26='?' (DbType = Int64), @p0='?', @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Int32), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Int32), @p15='?' (DbType = Boolean), @p16='?', @p17='?', @p18='?' (DbType = Int16), @p19='?' (DbType = Int32), @p20='?' (DbType = Decimal), @p21='?', @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int64), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE trips_booking SET booking_code = @p0, booking_code_auto = @p1, booking_date = @p2, booking_notes = @p3, booking_status = @p4, child_ages = @p5, child_num = @p6, client_email = @p7, client_id = @p8, client_name = @p9, client_nationality = @p10, client_phone = @p11, currency_code = @p12, gift_code = @p13, infant_num = @p14, is_two_way = @p15, pickup_address = @p16, pickup_time = @p17, pricing_type = @p18, total_pax = @p19, total_price = @p20, trip_code = @p21, trip_date = @p22, trip_id = @p23, trip_return_date = @p24, trip_type = @p25
WHERE id = @p26;
[2025-10-13 10:21:04.282 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-10-13 10:21:04.287 +03:00  INF]  Executed action ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App) in 159701.6202ms
[2025-10-13 10:21:04.287 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App)'
[2025-10-13 10:21:04.288 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelClient/CalculateBookingPrice - 200 162 application/json; charset=utf-8 159741.2401ms
[2025-10-13 10:22:51.441 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/AssignExtraToBooking - application/json-patch+json 157
[2025-10-13 10:22:51.480 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:22:51.488 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.AssignExtraToBooking (ITravel_App)'
[2025-10-13 10:22:51.489 +03:00  INF]  Route matched with {action = "AssignExtraToBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AssignExtraToBooking(System.Collections.Generic.List`1[ITravelApp.Data.Entities.booking_extra]) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:22:51.605 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__row_extra_id_0='?' (DbType = Int32), @__row_booking_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.id, b.booking_id, b.created_at, b.created_by, b.extra_count, b.extra_id, b.updated_at
FROM booking_extra AS b
WHERE b.extra_id = @__row_extra_id_0 AND b.booking_id = @__row_booking_id_1
LIMIT 2
[2025-10-13 10:22:51.625 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (DbType = DateTime2), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE booking_extra SET booking_id = @p0, created_at = @p1, created_by = @p2, extra_count = @p3, extra_id = @p4, updated_at = @p5
WHERE id = @p6;
[2025-10-13 10:22:51.626 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 10:22:51.628 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.AssignExtraToBooking (ITravel_App) in 138.3186ms
[2025-10-13 10:22:51.628 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.AssignExtraToBooking (ITravel_App)'
[2025-10-13 10:22:51.628 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/AssignExtraToBooking - 200 53 application/json; charset=utf-8 188.0851ms
[2025-10-13 10:23:20.518 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - application/json-patch+json 62
[2025-10-13 10:23:20.518 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:23:20.520 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:23:20.520 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ITravelApp.Data.Models.Bookings.BookingReq) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:23:20.537 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_id_1='?' (DbType = Int64), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_id = @__req_booking_id_1 AND b.client_id = @__req_client_id_2
LIMIT 2
[2025-10-13 10:23:20.542 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-13 10:23:20.544 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-13 10:23:20.545 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.Bookings.Client.BookingSummary'.
[2025-10-13 10:23:20.545 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App) in 25.1558ms
[2025-10-13 10:23:20.545 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:23:20.546 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - 200 2186 application/json; charset=utf-8 27.9034ms
[2025-10-13 10:23:50.867 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelClient/CalculateBookingPrice - application/json-patch+json 455
[2025-10-13 10:23:50.870 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:23:50.885 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App)'
[2025-10-13 10:23:50.885 +03:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ITravelApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ITravel_App.Controllers.TravelClientController (ITravel_App).
[2025-10-13 10:23:52.003 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-10-13 10:23:52.007 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-10-13 10:23:52.011 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:23:52.012 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:23:52.013 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.booking_code, t.booking_code_auto, t.booking_date, t.booking_notes, t.booking_status, t.child_ages, t.child_num, t.client_email, t.client_id, t.client_name, t.client_nationality, t.client_phone, t.currency_code, t.gift_code, t.infant_num, t.is_two_way, t.pickup_address, t.pickup_time, t.pricing_type, t.total_pax, t.total_price, t.trip_code, t.trip_date, t.trip_id, t.trip_return_date, t.trip_type
FROM trips_booking AS t
WHERE t.id = @__8__locals1_req_booking_id_0
LIMIT 2
[2025-10-13 10:23:52.017 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p26='?' (DbType = Int64), @p0='?', @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Int32), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Int32), @p15='?' (DbType = Boolean), @p16='?', @p17='?', @p18='?' (DbType = Int16), @p19='?' (DbType = Int32), @p20='?' (DbType = Decimal), @p21='?', @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int64), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE trips_booking SET booking_code = @p0, booking_code_auto = @p1, booking_date = @p2, booking_notes = @p3, booking_status = @p4, child_ages = @p5, child_num = @p6, client_email = @p7, client_id = @p8, client_name = @p9, client_nationality = @p10, client_phone = @p11, currency_code = @p12, gift_code = @p13, infant_num = @p14, is_two_way = @p15, pickup_address = @p16, pickup_time = @p17, pricing_type = @p18, total_pax = @p19, total_price = @p20, trip_code = @p21, trip_date = @p22, trip_id = @p23, trip_return_date = @p24, trip_type = @p25
WHERE id = @p26;
[2025-10-13 10:23:52.018 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-10-13 10:23:52.018 +03:00  INF]  Executed action ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App) in 1132.2513ms
[2025-10-13 10:23:52.018 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App)'
[2025-10-13 10:23:52.018 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelClient/CalculateBookingPrice - 200 162 application/json; charset=utf-8 1151.9285ms
[2025-10-13 10:25:08.859 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelClient/CalculateBookingPrice - application/json-patch+json 234
[2025-10-13 10:25:08.859 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:25:08.862 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App)'
[2025-10-13 10:25:08.862 +03:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ITravelApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ITravel_App.Controllers.TravelClientController (ITravel_App).
[2025-10-13 10:25:23.293 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-10-13 10:25:27.792 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-10-13 10:25:44.748 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:25:50.925 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:25:50.927 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.booking_code, t.booking_code_auto, t.booking_date, t.booking_notes, t.booking_status, t.child_ages, t.child_num, t.client_email, t.client_id, t.client_name, t.client_nationality, t.client_phone, t.currency_code, t.gift_code, t.infant_num, t.is_two_way, t.pickup_address, t.pickup_time, t.pricing_type, t.total_pax, t.total_price, t.trip_code, t.trip_date, t.trip_id, t.trip_return_date, t.trip_type
FROM trips_booking AS t
WHERE t.id = @__8__locals1_req_booking_id_0
LIMIT 2
[2025-10-13 10:25:50.930 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p26='?' (DbType = Int64), @p0='?', @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Int32), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Int32), @p15='?' (DbType = Boolean), @p16='?', @p17='?', @p18='?' (DbType = Int16), @p19='?' (DbType = Int32), @p20='?' (DbType = Decimal), @p21='?', @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int64), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE trips_booking SET booking_code = @p0, booking_code_auto = @p1, booking_date = @p2, booking_notes = @p3, booking_status = @p4, child_ages = @p5, child_num = @p6, client_email = @p7, client_id = @p8, client_name = @p9, client_nationality = @p10, client_phone = @p11, currency_code = @p12, gift_code = @p13, infant_num = @p14, is_two_way = @p15, pickup_address = @p16, pickup_time = @p17, pricing_type = @p18, total_pax = @p19, total_price = @p20, trip_code = @p21, trip_date = @p22, trip_id = @p23, trip_return_date = @p24, trip_type = @p25
WHERE id = @p26;
[2025-10-13 10:25:50.931 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-10-13 10:25:50.931 +03:00  INF]  Executed action ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App) in 42068.9067ms
[2025-10-13 10:25:50.931 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelClientController.CalculateBookingPrice (ITravel_App)'
[2025-10-13 10:25:50.931 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelClient/CalculateBookingPrice - 200 161 application/json; charset=utf-8 42074.7718ms
[2025-10-13 10:33:44.382 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-13 10:33:45.562 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-13 10:33:45.564 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-13 10:33:45.789 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-13 10:33:45.789 +03:00  INF]  Hosting environment: Development
[2025-10-13 10:33:45.789 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-13 10:33:46.454 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-13 10:33:46.711 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 269.716ms
[2025-10-13 10:33:46.766 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-13 10:33:46.766 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-13 10:33:46.788 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 21.3188ms
[2025-10-13 10:33:46.871 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.2115ms
[2025-10-13 10:33:46.930 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-13 10:33:47.068 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 138.1136ms
[2025-10-13 10:36:55.659 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - application/json-patch+json 745
[2025-10-13 10:36:55.670 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:36:55.836 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 10:36:55.860 +03:00  INF]  Route matched with {action = "SaveClientBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveClientBooking(ITravelApp.Data.Models.Bookings.BookingCls) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:36:59.994 +03:00  INF]  Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trips_booking AS t
[2025-10-13 10:37:00.106 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trips_booking AS t
[2025-10-13 10:37:00.491 +03:00  INF]  Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Int16), @p20='?' (DbType = Int32), @p21='?' (DbType = Decimal), @p22='?', @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int64), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trips_booking (id, booking_code, booking_code_auto, booking_date, booking_notes, booking_status, child_ages, child_num, client_email, client_id, client_name, client_nationality, client_phone, currency_code, gift_code, infant_num, is_two_way, pickup_address, pickup_time, pricing_type, total_pax, total_price, trip_code, trip_date, trip_id, trip_return_date, trip_type)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);
[2025-10-13 10:37:06.212 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__is_obligatory_3='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT f0.facility_desc, f0.facility_name, f2.extra_price, f2.currency_code, f2.is_extra, t.facility_id, f2.pricing_type, f2.is_obligatory
FROM trip_facility AS t
INNER JOIN (
    SELECT f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2 AND f1.is_obligatory = @__is_obligatory_3
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-13 10:37:10.866 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__row_extra_id_0='?' (DbType = Int32), @__row_booking_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.id, b.booking_id, b.created_at, b.created_by, b.extra_count, b.extra_id, b.updated_at
FROM booking_extra AS b
WHERE b.extra_id = @__row_extra_id_0 AND b.booking_id = @__row_booking_id_1
LIMIT 2
[2025-10-13 10:37:10.870 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM booking_extra AS b
[2025-10-13 10:37:10.875 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(b.id)
FROM booking_extra AS b
[2025-10-13 10:37:10.930 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO booking_extra (id, booking_id, created_at, created_by, extra_count, extra_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING updated_at;
[2025-10-13 10:37:10.945 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__row_extra_id_0='?' (DbType = Int32), @__row_booking_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.id, b.booking_id, b.created_at, b.created_by, b.extra_count, b.extra_id, b.updated_at
FROM booking_extra AS b
WHERE b.extra_id = @__row_extra_id_0 AND b.booking_id = @__row_booking_id_1
LIMIT 2
[2025-10-13 10:37:10.945 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM booking_extra AS b
[2025-10-13 10:37:10.946 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(b.id)
FROM booking_extra AS b
[2025-10-13 10:37:10.948 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO booking_extra (id, booking_id, created_at, created_by, extra_count, extra_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING updated_at;
[2025-10-13 10:37:24.351 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-10-13 10:37:24.403 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-10-13 10:37:24.442 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:37:24.443 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:37:24.472 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.booking_code, t.booking_code_auto, t.booking_date, t.booking_notes, t.booking_status, t.child_ages, t.child_num, t.client_email, t.client_id, t.client_name, t.client_nationality, t.client_phone, t.currency_code, t.gift_code, t.infant_num, t.is_two_way, t.pickup_address, t.pickup_time, t.pricing_type, t.total_pax, t.total_price, t.trip_code, t.trip_date, t.trip_id, t.trip_return_date, t.trip_type
FROM trips_booking AS t
WHERE t.id = @__8__locals1_req_booking_id_0
LIMIT 2
[2025-10-13 10:37:24.503 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p26='?' (DbType = Int64), @p0='?', @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Int32), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Int32), @p15='?' (DbType = Boolean), @p16='?', @p17='?', @p18='?' (DbType = Int16), @p19='?' (DbType = Int32), @p20='?' (DbType = Decimal), @p21='?', @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int64), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE trips_booking SET booking_code = @p0, booking_code_auto = @p1, booking_date = @p2, booking_notes = @p3, booking_status = @p4, child_ages = @p5, child_num = @p6, client_email = @p7, client_id = @p8, client_name = @p9, client_nationality = @p10, client_phone = @p11, currency_code = @p12, gift_code = @p13, infant_num = @p14, is_two_way = @p15, pickup_address = @p16, pickup_time = @p17, pricing_type = @p18, total_pax = @p19, total_price = @p20, trip_code = @p21, trip_date = @p22, trip_id = @p23, trip_return_date = @p24, trip_type = @p25
WHERE id = @p26;
[2025-10-13 10:37:24.552 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 10:37:24.584 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App) in 28719.8166ms
[2025-10-13 10:37:24.584 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 10:37:24.593 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - 200 123 application/json; charset=utf-8 28934.859ms
[2025-10-13 10:38:10.098 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - application/json-patch+json 745
[2025-10-13 10:38:10.102 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:38:10.115 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 10:38:10.115 +03:00  INF]  Route matched with {action = "SaveClientBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveClientBooking(ITravelApp.Data.Models.Bookings.BookingCls) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:38:13.059 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trips_booking AS t
[2025-10-13 10:38:13.060 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trips_booking AS t
[2025-10-13 10:38:13.065 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Int16), @p20='?' (DbType = Int32), @p21='?' (DbType = Decimal), @p22='?', @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int64), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trips_booking (id, booking_code, booking_code_auto, booking_date, booking_notes, booking_status, child_ages, child_num, client_email, client_id, client_name, client_nationality, client_phone, currency_code, gift_code, infant_num, is_two_way, pickup_address, pickup_time, pricing_type, total_pax, total_price, trip_code, trip_date, trip_id, trip_return_date, trip_type)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);
[2025-10-13 10:38:17.823 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__is_obligatory_3='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT f0.facility_desc, f0.facility_name, f2.extra_price, f2.currency_code, f2.is_extra, t.facility_id, f2.pricing_type, f2.is_obligatory
FROM trip_facility AS t
INNER JOIN (
    SELECT f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2 AND f1.is_obligatory = @__is_obligatory_3
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-13 10:39:15.091 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__row_extra_id_0='?' (DbType = Int32), @__row_booking_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.id, b.booking_id, b.created_at, b.created_by, b.extra_count, b.extra_id, b.updated_at
FROM booking_extra AS b
WHERE b.extra_id = @__row_extra_id_0 AND b.booking_id = @__row_booking_id_1
LIMIT 2
[2025-10-13 10:39:15.092 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM booking_extra AS b
[2025-10-13 10:39:15.098 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(b.id)
FROM booking_extra AS b
[2025-10-13 10:39:15.101 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO booking_extra (id, booking_id, created_at, created_by, extra_count, extra_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING updated_at;
[2025-10-13 10:39:15.103 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__row_extra_id_0='?' (DbType = Int32), @__row_booking_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.id, b.booking_id, b.created_at, b.created_by, b.extra_count, b.extra_id, b.updated_at
FROM booking_extra AS b
WHERE b.extra_id = @__row_extra_id_0 AND b.booking_id = @__row_booking_id_1
LIMIT 2
[2025-10-13 10:39:15.104 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM booking_extra AS b
[2025-10-13 10:39:15.105 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(b.id)
FROM booking_extra AS b
[2025-10-13 10:39:15.107 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO booking_extra (id, booking_id, created_at, created_by, extra_count, extra_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING updated_at;
[2025-10-13 10:39:15.960 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-10-13 10:39:15.963 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-10-13 10:39:15.965 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.booking_code, t.booking_code_auto, t.booking_date, t.booking_notes, t.booking_status, t.child_ages, t.child_num, t.client_email, t.client_id, t.client_name, t.client_nationality, t.client_phone, t.currency_code, t.gift_code, t.infant_num, t.is_two_way, t.pickup_address, t.pickup_time, t.pricing_type, t.total_pax, t.total_price, t.trip_code, t.trip_date, t.trip_id, t.trip_return_date, t.trip_type
FROM trips_booking AS t
WHERE t.id = @__8__locals1_req_booking_id_0
LIMIT 2
[2025-10-13 10:39:15.969 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p26='?' (DbType = Int64), @p0='?', @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Int32), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Int32), @p15='?' (DbType = Boolean), @p16='?', @p17='?', @p18='?' (DbType = Int16), @p19='?' (DbType = Int32), @p20='?' (DbType = Decimal), @p21='?', @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int64), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE trips_booking SET booking_code = @p0, booking_code_auto = @p1, booking_date = @p2, booking_notes = @p3, booking_status = @p4, child_ages = @p5, child_num = @p6, client_email = @p7, client_id = @p8, client_name = @p9, client_nationality = @p10, client_phone = @p11, currency_code = @p12, gift_code = @p13, infant_num = @p14, is_two_way = @p15, pickup_address = @p16, pickup_time = @p17, pricing_type = @p18, total_pax = @p19, total_price = @p20, trip_code = @p21, trip_date = @p22, trip_id = @p23, trip_return_date = @p24, trip_type = @p25
WHERE id = @p26;
[2025-10-13 10:39:15.970 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 10:39:15.971 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App) in 65855.5411ms
[2025-10-13 10:39:15.971 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 10:39:15.971 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - 200 123 application/json; charset=utf-8 65873.8106ms
[2025-10-13 10:39:26.544 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - application/json-patch+json 745
[2025-10-13 10:39:26.545 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:39:26.560 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 10:39:26.560 +03:00  INF]  Route matched with {action = "SaveClientBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveClientBooking(ITravelApp.Data.Models.Bookings.BookingCls) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:39:28.805 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trips_booking AS t
[2025-10-13 10:39:28.805 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trips_booking AS t
[2025-10-13 10:39:28.808 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Int16), @p20='?' (DbType = Int32), @p21='?' (DbType = Decimal), @p22='?', @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int64), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trips_booking (id, booking_code, booking_code_auto, booking_date, booking_notes, booking_status, child_ages, child_num, client_email, client_id, client_name, client_nationality, client_phone, currency_code, gift_code, infant_num, is_two_way, pickup_address, pickup_time, pricing_type, total_pax, total_price, trip_code, trip_date, trip_id, trip_return_date, trip_type)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);
[2025-10-13 10:39:33.239 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__is_obligatory_3='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT f0.facility_desc, f0.facility_name, f2.extra_price, f2.currency_code, f2.is_extra, t.facility_id, f2.pricing_type, f2.is_obligatory
FROM trip_facility AS t
INNER JOIN (
    SELECT f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2 AND f1.is_obligatory = @__is_obligatory_3
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-13 10:40:13.643 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-10-13 10:40:13.645 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-10-13 10:40:13.646 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:40:13.647 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:40:13.648 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.booking_code, t.booking_code_auto, t.booking_date, t.booking_notes, t.booking_status, t.child_ages, t.child_num, t.client_email, t.client_id, t.client_name, t.client_nationality, t.client_phone, t.currency_code, t.gift_code, t.infant_num, t.is_two_way, t.pickup_address, t.pickup_time, t.pricing_type, t.total_pax, t.total_price, t.trip_code, t.trip_date, t.trip_id, t.trip_return_date, t.trip_type
FROM trips_booking AS t
WHERE t.id = @__8__locals1_req_booking_id_0
LIMIT 2
[2025-10-13 10:40:13.652 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p26='?' (DbType = Int64), @p0='?', @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Int32), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Int32), @p15='?' (DbType = Boolean), @p16='?', @p17='?', @p18='?' (DbType = Int16), @p19='?' (DbType = Int32), @p20='?' (DbType = Decimal), @p21='?', @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int64), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE trips_booking SET booking_code = @p0, booking_code_auto = @p1, booking_date = @p2, booking_notes = @p3, booking_status = @p4, child_ages = @p5, child_num = @p6, client_email = @p7, client_id = @p8, client_name = @p9, client_nationality = @p10, client_phone = @p11, currency_code = @p12, gift_code = @p13, infant_num = @p14, is_two_way = @p15, pickup_address = @p16, pickup_time = @p17, pricing_type = @p18, total_pax = @p19, total_price = @p20, trip_code = @p21, trip_date = @p22, trip_id = @p23, trip_return_date = @p24, trip_type = @p25
WHERE id = @p26;
[2025-10-13 10:40:13.652 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 10:40:13.653 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App) in 47092.6577ms
[2025-10-13 10:40:13.653 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 10:40:13.653 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - 200 123 application/json; charset=utf-8 47108.7324ms
[2025-10-13 10:41:08.238 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-13 10:41:08.935 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-13 10:41:08.936 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-13 10:41:09.071 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-13 10:41:09.072 +03:00  INF]  Hosting environment: Development
[2025-10-13 10:41:09.072 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-13 10:41:10.025 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-13 10:41:10.380 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 364.3093ms
[2025-10-13 10:41:11.050 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-13 10:41:11.056 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 5.7008ms
[2025-10-13 10:41:11.190 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-13 10:41:11.238 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.0922ms
[2025-10-13 10:41:11.423 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-13 10:41:11.498 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.7729ms
[2025-10-13 10:42:00.584 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - application/json-patch+json 745
[2025-10-13 10:42:00.593 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:42:00.826 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 10:42:00.857 +03:00  INF]  Route matched with {action = "SaveClientBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveClientBooking(ITravelApp.Data.Models.Bookings.BookingCls) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:42:05.648 +03:00  INF]  Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trips_booking AS t
[2025-10-13 10:42:05.745 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trips_booking AS t
[2025-10-13 10:42:06.053 +03:00  INF]  Executed DbCommand (35ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?' (DbType = Int16), @p20='?' (DbType = Int32), @p21='?' (DbType = Decimal), @p22='?', @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int64), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trips_booking (id, booking_code, booking_code_auto, booking_date, booking_notes, booking_status, child_ages, child_num, client_email, client_id, client_name, client_nationality, client_phone, currency_code, gift_code, infant_num, is_two_way, pickup_address, pickup_time, pricing_type, total_pax, total_price, trip_code, trip_date, trip_id, trip_return_date, trip_type)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);
[2025-10-13 10:42:10.181 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__is_obligatory_3='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT f0.facility_desc, f0.facility_name, f2.extra_price, f2.currency_code, f2.is_extra, t.facility_id, f2.pricing_type, f2.is_obligatory
FROM trip_facility AS t
INNER JOIN (
    SELECT f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2 AND f1.is_obligatory = @__is_obligatory_3
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-13 10:42:22.809 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-10-13 10:42:22.884 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-10-13 10:42:22.931 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:42:22.934 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__age_0='?' (DbType = Int32), @__8__locals1_req_trip_id_1='?' (DbType = Int64), @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE @__age_0 >= c.age_from AND @__age_0 <= c.age_to AND c.trip_id = @__8__locals1_req_trip_id_1 AND lower(c.currency_code) = @__ToLower_2
LIMIT 1
[2025-10-13 10:42:22.942 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.booking_code, t.booking_code_auto, t.booking_date, t.booking_notes, t.booking_status, t.child_ages, t.child_num, t.client_email, t.client_id, t.client_name, t.client_nationality, t.client_phone, t.currency_code, t.gift_code, t.infant_num, t.is_two_way, t.pickup_address, t.pickup_time, t.pricing_type, t.total_pax, t.total_price, t.trip_code, t.trip_date, t.trip_id, t.trip_return_date, t.trip_type
FROM trips_booking AS t
WHERE t.id = @__8__locals1_req_booking_id_0
LIMIT 2
[2025-10-13 10:42:22.970 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p26='?' (DbType = Int64), @p0='?', @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Int32), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Int32), @p15='?' (DbType = Boolean), @p16='?', @p17='?', @p18='?' (DbType = Int16), @p19='?' (DbType = Int32), @p20='?' (DbType = Decimal), @p21='?', @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int64), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE trips_booking SET booking_code = @p0, booking_code_auto = @p1, booking_date = @p2, booking_notes = @p3, booking_status = @p4, child_ages = @p5, child_num = @p6, client_email = @p7, client_id = @p8, client_name = @p9, client_nationality = @p10, client_phone = @p11, currency_code = @p12, gift_code = @p13, infant_num = @p14, is_two_way = @p15, pickup_address = @p16, pickup_time = @p17, pricing_type = @p18, total_pax = @p19, total_price = @p20, trip_code = @p21, trip_date = @p22, trip_id = @p23, trip_return_date = @p24, trip_type = @p25
WHERE id = @p26;
[2025-10-13 10:42:23.053 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 10:42:23.095 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App) in 22233.4635ms
[2025-10-13 10:42:23.096 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-13 10:42:23.105 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - 200 123 application/json; charset=utf-8 22520.9786ms
[2025-10-13 10:43:03.355 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - application/json-patch+json 62
[2025-10-13 10:43:03.361 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:43:03.375 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:43:03.384 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ITravelApp.Data.Models.Bookings.BookingReq) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:43:03.466 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_id_1='?' (DbType = Int64), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_id = @__req_booking_id_1 AND b.client_id = @__req_client_id_2
LIMIT 2
[2025-10-13 10:43:03.479 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.Bookings.Client.BookingSummary'.
[2025-10-13 10:43:03.497 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App) in 113.049ms
[2025-10-13 10:43:03.497 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:43:03.499 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - 200 823 application/json; charset=utf-8 144.2903ms
[2025-10-13 10:43:11.264 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - application/json-patch+json 62
[2025-10-13 10:43:11.265 +03:00  INF]  CORS policy execution successful.
[2025-10-13 10:43:11.270 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:43:11.270 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ITravelApp.Data.Models.Bookings.BookingReq) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-13 10:43:11.346 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_id_1='?' (DbType = Int64), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_id = @__req_booking_id_1 AND b.client_id = @__req_client_id_2
LIMIT 2
[2025-10-13 10:43:11.362 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-13 10:43:11.365 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-13 10:43:11.366 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.Bookings.Client.BookingSummary'.
[2025-10-13 10:43:11.370 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App) in 100.1953ms
[2025-10-13 10:43:11.370 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.GetBookingWithDetails (ITravel_App)'
[2025-10-13 10:43:11.370 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/GetBookingSummary - 200 1510 application/json; charset=utf-8 106.302ms
[2025-10-13 11:21:21.122 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-13 11:21:21.645 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-13 11:21:21.645 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-13 11:21:21.967 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-13 11:21:21.967 +03:00  INF]  Hosting environment: Development
[2025-10-13 11:21:21.967 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-13 11:21:22.978 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-13 11:21:23.399 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 431.663ms
[2025-10-13 11:21:23.432 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-13 11:21:23.432 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-13 11:21:23.451 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 13.5521ms
[2025-10-13 11:21:23.575 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 142.7731ms
[2025-10-13 11:21:23.777 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-13 11:21:23.860 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.3304ms
[2025-10-13 12:40:30.676 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetDestinationMain?leaf=false - null null
[2025-10-13 12:40:30.685 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:40:30.688 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetDestinationMain?leaf=false - 204 null null 12.6207ms
[2025-10-13 12:40:30.691 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetDestinationMain?leaf=false - application/json 2
[2025-10-13 12:40:30.693 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:40:31.119 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetDestination_Mains (ITravel_App)'
[2025-10-13 12:40:31.179 +03:00  INF]  Route matched with {action = "GetDestination_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDestination_Mains(Boolean) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 12:40:34.102 +03:00  INF]  Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.active, d.country_code, d.created_at, d.created_by, d.dest_code, d.dest_default_name, d.leaf, d."order", d.parent_id, d.route, d.updated_at
FROM destination_main AS d
WHERE d.active AND (d.leaf = d.leaf OR d.leaf IS NULL)
[2025-10-13 12:40:34.406 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_main, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 12:40:34.595 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetDestination_Mains (ITravel_App) in 3407.1569ms
[2025-10-13 12:40:34.599 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetDestination_Mains (ITravel_App)'
[2025-10-13 12:40:34.619 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetDestinationMain?leaf=false - 200 3053 application/json; charset=utf-8 3928.463ms
[2025-10-13 12:40:36.978 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - null null
[2025-10-13 12:40:36.979 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:40:36.981 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - 204 null null 2.0802ms
[2025-10-13 12:40:36.983 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - application/json 2
[2025-10-13 12:40:36.983 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:40:37.015 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 12:40:37.027 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 12:40:37.200 +03:00  INF]  Executed DbCommand (40ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 12:40:37.206 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 12:40:37.217 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 190.0723ms
[2025-10-13 12:40:37.217 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 12:40:37.218 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - 200 277 application/json; charset=utf-8 235.252ms
[2025-10-13 12:40:41.278 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/saveDestinationImage - null null
[2025-10-13 12:40:41.280 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:40:41.280 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/saveDestinationImage - 204 null null 1.6338ms
[2025-10-13 12:40:41.299 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/saveDestinationImage - multipart/form-data; boundary=----WebKitFormBoundarytdMmoc4nQBuBPq21 100709
[2025-10-13 12:40:41.299 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:40:41.309 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App)'
[2025-10-13 12:40:41.322 +03:00  INF]  Route matched with {action = "saveDestinationImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult saveDestinationImageAsync(ITravelApp.Data.Models.destination.DestinationImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 12:40:41.650 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__row_destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.created_at, d.created_by, d.destination_id, d.img_height, d.img_name, d.img_path, d.img_resize_path, d.img_width, d.is_default, d.updated_at
FROM destination_imgs AS d
WHERE d.destination_id = @__row_destination_id_0 AND d.is_default IS NULL
LIMIT 2
[2025-10-13 12:40:41.734 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM destination_imgs AS d
[2025-10-13 12:40:41.758 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(d.id)
FROM destination_imgs AS d
[2025-10-13 12:40:42.473 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO destination_imgs (id, created_by, destination_id, img_height, img_name, img_path, img_resize_path, img_width, is_default)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, updated_at;
[2025-10-13 12:40:42.531 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 12:40:42.539 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App) in 1216.4301ms
[2025-10-13 12:40:42.539 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App)'
[2025-10-13 12:40:42.541 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/saveDestinationImage - 200 53 application/json; charset=utf-8 1242.3559ms
[2025-10-13 12:40:42.556 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - null null
[2025-10-13 12:40:42.556 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:40:42.556 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - 204 null null 0.376ms
[2025-10-13 12:40:42.559 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - application/json 2
[2025-10-13 12:40:42.559 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:40:42.565 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 12:40:42.565 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 12:40:42.606 +03:00  INF]  Executed DbCommand (23ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 12:40:42.608 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 12:40:42.608 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 42.5362ms
[2025-10-13 12:40:42.609 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 12:40:42.610 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - 200 557 application/json; charset=utf-8 51.4248ms
[2025-10-13 12:40:55.206 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/saveDestinationImage - null null
[2025-10-13 12:40:55.207 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:40:55.207 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/saveDestinationImage - 204 null null 0.8442ms
[2025-10-13 12:40:55.214 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/saveDestinationImage - multipart/form-data; boundary=----WebKitFormBoundarysMB5MyDIjVOqGIsl 173497
[2025-10-13 12:40:55.215 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:40:55.216 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App)'
[2025-10-13 12:40:55.218 +03:00  INF]  Route matched with {action = "saveDestinationImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult saveDestinationImageAsync(ITravelApp.Data.Models.destination.DestinationImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 12:40:55.271 +03:00  INF]  Executed DbCommand (16ms) [Parameters=[@__row_destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.created_at, d.created_by, d.destination_id, d.img_height, d.img_name, d.img_path, d.img_resize_path, d.img_width, d.is_default, d.updated_at
FROM destination_imgs AS d
WHERE d.destination_id = @__row_destination_id_0 AND d.is_default IS NULL
LIMIT 2
[2025-10-13 12:40:55.272 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM destination_imgs AS d
[2025-10-13 12:40:55.274 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(d.id)
FROM destination_imgs AS d
[2025-10-13 12:40:55.282 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO destination_imgs (id, created_by, destination_id, img_height, img_name, img_path, img_resize_path, img_width, is_default)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, updated_at;
[2025-10-13 12:40:55.284 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 12:40:55.284 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App) in 65.6229ms
[2025-10-13 12:40:55.284 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App)'
[2025-10-13 12:40:55.285 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/saveDestinationImage - 200 53 application/json; charset=utf-8 70.4813ms
[2025-10-13 12:40:55.303 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - null null
[2025-10-13 12:40:55.304 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:40:55.304 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - 204 null null 0.4285ms
[2025-10-13 12:40:55.307 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - application/json 2
[2025-10-13 12:40:55.307 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:40:55.309 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 12:40:55.309 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 12:40:55.318 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 12:40:55.319 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 12:40:55.322 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 12.4852ms
[2025-10-13 12:40:55.322 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 12:40:55.322 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - 200 837 application/json; charset=utf-8 15.4055ms
[2025-10-13 12:41:07.058 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 12:41:07.058 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:41:07.058 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 0.5365ms
[2025-10-13 12:41:07.064 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 12:41:07.064 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:41:07.066 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 12:41:07.077 +03:00  INF]  Route matched with {action = "GetTrip_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Mains(Int32, Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 12:41:07.235 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.destination_id, t.active, t.id, t.pickup, t.route, t.show_in_slider, t.show_in_top, t.trip_code, t.trip_default_name, t.trip_duration, d.country_code, d.dest_code, d.dest_default_name, t.trip_type, t.transfer_category_id, t.trip_code_auto, t.release_days, t.trip_order, t.is_comm_soon
FROM trip_main AS t
INNER JOIN destination_main AS d ON t.destination_id = d.id
WHERE t.trip_type = t.trip_type OR t.trip_type IS NULL
ORDER BY t.id
[2025-10-13 12:41:07.243 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.TripMainCast, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 12:41:07.280 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App) in 202.6806ms
[2025-10-13 12:41:07.280 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 12:41:07.280 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 200 10957 application/json; charset=utf-8 216.0468ms
[2025-10-13 12:41:10.059 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - null null
[2025-10-13 12:41:10.059 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:41:10.059 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 204 null null 0.4065ms
[2025-10-13 12:41:10.061 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - application/json 2
[2025-10-13 12:41:10.062 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:41:10.062 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 12:41:10.075 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 12:41:10.104 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 12:41:10.108 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 12:41:10.133 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 58.5335ms
[2025-10-13 12:41:10.133 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 12:41:10.134 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 200 4499 application/json; charset=utf-8 72.288ms
[2025-10-13 12:41:16.512 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - null null
[2025-10-13 12:41:16.513 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:41:16.513 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - 204 null null 1.2282ms
[2025-10-13 12:41:16.535 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundarypNL0sFm9aB3WI4kE 100702
[2025-10-13 12:41:16.535 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:41:16.536 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 12:41:16.551 +03:00  INF]  Route matched with {action = "SaveTripImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripImage(ITravelApp.Data.Models.trips.TripImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 12:41:29.261 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.img_order IS NULL
LIMIT 2
[2025-10-13 12:41:29.272 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.trip_id = @__trip_trip_id_0 AND t.is_default IS NULL
LIMIT 2
[2025-10-13 12:41:29.277 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trip_imgs AS t
[2025-10-13 12:41:29.289 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trip_imgs AS t
[2025-10-13 12:41:29.374 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trip_imgs (id, created_by, img_height, img_name, img_path, img_resize_path, img_width, is_default, trip_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, img_order, trip_type, updated_at;
[2025-10-13 12:41:29.386 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 12:41:29.386 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App) in 12834.9446ms
[2025-10-13 12:41:29.386 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 12:41:29.386 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 200 53 application/json; charset=utf-8 12851.3277ms
[2025-10-13 12:41:30.641 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - null null
[2025-10-13 12:41:30.641 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:41:30.641 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 204 null null 0.4032ms
[2025-10-13 12:41:30.827 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - application/json 2
[2025-10-13 12:41:30.828 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:41:30.828 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 12:41:30.828 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 12:41:30.831 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 12:41:30.831 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 12:41:30.837 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 8.0403ms
[2025-10-13 12:41:30.837 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 12:41:30.837 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 200 4800 application/json; charset=utf-8 9.4399ms
[2025-10-13 12:57:46.333 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 12:57:46.333 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:57:46.334 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 0.6527ms
[2025-10-13 12:57:46.339 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 12:57:46.358 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:57:46.375 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
[2025-10-13 12:57:46.588 +03:00  INF]  Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
[2025-10-13 12:57:46.590 +03:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
[2025-10-13 12:57:46.599 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-13 12:57:46.600 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 401 0 null 260.8096ms
[2025-10-13 12:57:56.167 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 12:57:56.167 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:57:56.167 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 0.6324ms
[2025-10-13 12:57:56.171 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 12:57:56.171 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:57:56.172 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 12:57:56.173 +03:00  INF]  Route matched with {action = "GetTrip_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Mains(Int32, Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 12:57:56.266 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.destination_id, t.active, t.id, t.pickup, t.route, t.show_in_slider, t.show_in_top, t.trip_code, t.trip_default_name, t.trip_duration, d.country_code, d.dest_code, d.dest_default_name, t.trip_type, t.transfer_category_id, t.trip_code_auto, t.release_days, t.trip_order, t.is_comm_soon
FROM trip_main AS t
INNER JOIN destination_main AS d ON t.destination_id = d.id
WHERE t.trip_type = t.trip_type OR t.trip_type IS NULL
ORDER BY t.id
[2025-10-13 12:57:56.267 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.TripMainCast, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 12:57:56.270 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App) in 97.6249ms
[2025-10-13 12:57:56.271 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 12:57:56.273 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 200 10957 application/json; charset=utf-8 100.4768ms
[2025-10-13 12:57:59.569 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - null null
[2025-10-13 12:57:59.569 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:57:59.569 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 204 null null 0.2966ms
[2025-10-13 12:57:59.572 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - application/json 2
[2025-10-13 12:57:59.572 +03:00  INF]  CORS policy execution successful.
[2025-10-13 12:57:59.572 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 12:57:59.572 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 12:57:59.578 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 12:57:59.579 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 12:57:59.581 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 8.6352ms
[2025-10-13 12:57:59.581 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 12:57:59.582 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 200 4800 application/json; charset=utf-8 10.037ms
[2025-10-13 13:00:34.613 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 13:00:34.614 +03:00  INF]  CORS policy execution successful.
[2025-10-13 13:00:34.614 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 0.3467ms
[2025-10-13 13:00:34.617 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 13:00:34.617 +03:00  INF]  CORS policy execution successful.
[2025-10-13 13:00:34.617 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 13:00:34.618 +03:00  INF]  Route matched with {action = "GetTrip_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Mains(Int32, Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 13:00:34.621 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.destination_id, t.active, t.id, t.pickup, t.route, t.show_in_slider, t.show_in_top, t.trip_code, t.trip_default_name, t.trip_duration, d.country_code, d.dest_code, d.dest_default_name, t.trip_type, t.transfer_category_id, t.trip_code_auto, t.release_days, t.trip_order, t.is_comm_soon
FROM trip_main AS t
INNER JOIN destination_main AS d ON t.destination_id = d.id
WHERE t.trip_type = t.trip_type OR t.trip_type IS NULL
ORDER BY t.id
[2025-10-13 13:00:34.621 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.TripMainCast, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 13:00:34.626 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App) in 8.2953ms
[2025-10-13 13:00:34.626 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 13:00:34.626 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 200 10957 application/json; charset=utf-8 9.6189ms
[2025-10-13 13:00:41.610 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - null null
[2025-10-13 13:00:41.611 +03:00  INF]  CORS policy execution successful.
[2025-10-13 13:00:41.618 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 204 null null 4.2118ms
[2025-10-13 13:00:41.621 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - application/json 2
[2025-10-13 13:00:41.621 +03:00  INF]  CORS policy execution successful.
[2025-10-13 13:00:41.621 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 13:00:41.621 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 13:00:41.629 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 13:00:41.637 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 13:00:41.651 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 29.3659ms
[2025-10-13 13:00:41.651 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 13:00:41.652 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 200 4800 application/json; charset=utf-8 30.9533ms
[2025-10-13 16:31:30.698 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 16:31:30.699 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:31:30.699 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 1.935ms
[2025-10-13 16:31:30.700 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 16:31:30.700 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:31:30.700 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 0.4312ms
[2025-10-13 16:31:32.563 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 16:31:32.564 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:31:32.564 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 0.4207ms
[2025-10-13 16:31:32.567 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 16:31:32.567 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:31:32.575 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/13/2025 10:27:51 AM', Current time (UTC): '10/13/2025 1:31:32 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-13 16:31:32.578 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/13/2025 10:27:51 AM', Current time (UTC): '10/13/2025 1:31:32 PM'.
[2025-10-13 16:31:32.578 +03:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
[2025-10-13 16:31:32.579 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-13 16:31:32.580 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 401 0 null 13.1273ms
[2025-10-13 16:31:39.673 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 16:31:39.673 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:31:39.673 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 1.3181ms
[2025-10-13 16:31:39.675 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 16:31:39.676 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:31:39.677 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 16:31:39.677 +03:00  INF]  Route matched with {action = "GetTrip_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Mains(Int32, Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:31:39.769 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.destination_id, t.active, t.id, t.pickup, t.route, t.show_in_slider, t.show_in_top, t.trip_code, t.trip_default_name, t.trip_duration, d.country_code, d.dest_code, d.dest_default_name, t.trip_type, t.transfer_category_id, t.trip_code_auto, t.release_days, t.trip_order, t.is_comm_soon
FROM trip_main AS t
INNER JOIN destination_main AS d ON t.destination_id = d.id
WHERE t.trip_type = t.trip_type OR t.trip_type IS NULL
ORDER BY t.id
[2025-10-13 16:31:39.770 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.TripMainCast, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:31:39.785 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App) in 107.7453ms
[2025-10-13 16:31:39.785 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 16:31:39.785 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 200 10957 application/json; charset=utf-8 109.9867ms
[2025-10-13 16:31:44.393 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - null null
[2025-10-13 16:31:44.393 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:31:44.393 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 204 null null 0.3001ms
[2025-10-13 16:31:44.396 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - application/json 2
[2025-10-13 16:31:44.396 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:31:44.397 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 16:31:44.397 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:31:44.410 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 16:31:44.411 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:31:44.422 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 25.1208ms
[2025-10-13 16:31:44.423 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 16:31:44.423 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 200 4800 application/json; charset=utf-8 26.6605ms
[2025-10-13 16:32:22.899 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 16:32:22.899 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:32:22.899 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 0.6582ms
[2025-10-13 16:32:22.909 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 16:32:22.910 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:32:22.911 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 16:32:22.911 +03:00  INF]  Route matched with {action = "GetTrip_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Mains(Int32, Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:32:22.915 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.destination_id, t.active, t.id, t.pickup, t.route, t.show_in_slider, t.show_in_top, t.trip_code, t.trip_default_name, t.trip_duration, d.country_code, d.dest_code, d.dest_default_name, t.trip_type, t.transfer_category_id, t.trip_code_auto, t.release_days, t.trip_order, t.is_comm_soon
FROM trip_main AS t
INNER JOIN destination_main AS d ON t.destination_id = d.id
WHERE t.trip_type = t.trip_type OR t.trip_type IS NULL
ORDER BY t.id
[2025-10-13 16:32:22.917 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.TripMainCast, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:32:22.919 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App) in 8.5952ms
[2025-10-13 16:32:22.920 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 16:32:22.920 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 200 10957 application/json; charset=utf-8 13.8083ms
[2025-10-13 16:33:44.896 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 16:33:44.901 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:33:44.902 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 5.34ms
[2025-10-13 16:33:44.906 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 16:33:44.907 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:33:44.907 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 16:33:44.907 +03:00  INF]  Route matched with {action = "GetTrip_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Mains(Int32, Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:33:44.911 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.destination_id, t.active, t.id, t.pickup, t.route, t.show_in_slider, t.show_in_top, t.trip_code, t.trip_default_name, t.trip_duration, d.country_code, d.dest_code, d.dest_default_name, t.trip_type, t.transfer_category_id, t.trip_code_auto, t.release_days, t.trip_order, t.is_comm_soon
FROM trip_main AS t
INNER JOIN destination_main AS d ON t.destination_id = d.id
WHERE t.trip_type = t.trip_type OR t.trip_type IS NULL
ORDER BY t.id
[2025-10-13 16:33:44.913 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.TripMainCast, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:33:44.915 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App) in 7.5355ms
[2025-10-13 16:33:44.915 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 16:33:44.915 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 200 10957 application/json; charset=utf-8 9.0397ms
[2025-10-13 16:43:36.175 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 16:43:36.175 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:43:36.175 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 1.0075ms
[2025-10-13 16:43:36.184 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 16:43:36.184 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:43:36.189 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 16:43:36.189 +03:00  INF]  Route matched with {action = "GetTrip_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Mains(Int32, Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:43:36.416 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.destination_id, t.active, t.id, t.pickup, t.route, t.show_in_slider, t.show_in_top, t.trip_code, t.trip_default_name, t.trip_duration, d.country_code, d.dest_code, d.dest_default_name, t.trip_type, t.transfer_category_id, t.trip_code_auto, t.release_days, t.trip_order, t.is_comm_soon
FROM trip_main AS t
INNER JOIN destination_main AS d ON t.destination_id = d.id
WHERE t.trip_type = t.trip_type OR t.trip_type IS NULL
ORDER BY t.id
[2025-10-13 16:43:36.416 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.TripMainCast, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:43:36.425 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App) in 235.0775ms
[2025-10-13 16:43:36.425 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 16:43:36.425 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 200 10957 application/json; charset=utf-8 240.8172ms
[2025-10-13 16:43:41.872 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - null null
[2025-10-13 16:43:41.872 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:43:41.872 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 204 null null 0.246ms
[2025-10-13 16:43:41.874 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - application/json 2
[2025-10-13 16:43:41.874 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:43:41.875 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 16:43:41.875 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:43:41.883 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 16:43:41.883 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:43:41.888 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 12.6746ms
[2025-10-13 16:43:41.888 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 16:43:41.890 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 200 4800 application/json; charset=utf-8 15.6488ms
[2025-10-13 16:43:46.715 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - null null
[2025-10-13 16:43:46.715 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:43:46.716 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - 204 null null 0.4217ms
[2025-10-13 16:43:46.790 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundary68mE7Ob4aH6CP9cB 235878
[2025-10-13 16:43:46.790 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:43:46.799 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 16:43:46.799 +03:00  INF]  Route matched with {action = "SaveTripImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripImage(ITravelApp.Data.Models.trips.TripImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:44:13.207 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.img_order IS NULL
LIMIT 2
[2025-10-13 16:44:13.210 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.trip_id = @__trip_trip_id_0 AND t.is_default IS NULL
LIMIT 2
[2025-10-13 16:44:13.212 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trip_imgs AS t
[2025-10-13 16:44:13.214 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trip_imgs AS t
[2025-10-13 16:44:13.220 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trip_imgs (id, created_by, img_height, img_name, img_path, img_resize_path, img_width, is_default, trip_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, img_order, trip_type, updated_at;
[2025-10-13 16:44:13.221 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 16:44:13.221 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App) in 26421.3679ms
[2025-10-13 16:44:13.221 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 16:44:13.221 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 200 53 application/json; charset=utf-8 26431.7099ms
[2025-10-13 16:44:14.497 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - null null
[2025-10-13 16:44:14.497 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:44:14.497 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 204 null null 0.2475ms
[2025-10-13 16:44:14.752 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - application/json 2
[2025-10-13 16:44:14.752 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:44:14.753 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 16:44:14.753 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:44:15.061 +03:00  INF]  Executed DbCommand (306ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 16:44:15.063 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:44:15.462 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 708.5772ms
[2025-10-13 16:44:15.462 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 16:44:15.462 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 200 5133 application/json; charset=utf-8 711.2893ms
[2025-10-13 16:44:47.330 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - null null
[2025-10-13 16:44:47.330 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:44:47.330 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/SaveTripImage - 204 null null 0.6066ms
[2025-10-13 16:44:47.349 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundary5VpROAoIKl26iKRJ 60365
[2025-10-13 16:44:47.349 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:44:47.351 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 16:44:47.352 +03:00  INF]  Route matched with {action = "SaveTripImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripImage(ITravelApp.Data.Models.trips.TripImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:44:57.844 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.img_order IS NULL
LIMIT 2
[2025-10-13 16:44:57.845 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.trip_id = @__trip_trip_id_0 AND t.is_default IS NULL
LIMIT 2
[2025-10-13 16:44:57.846 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trip_imgs AS t
[2025-10-13 16:44:57.847 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trip_imgs AS t
[2025-10-13 16:44:57.848 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trip_imgs (id, created_by, img_height, img_name, img_path, img_resize_path, img_width, is_default, trip_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, img_order, trip_type, updated_at;
[2025-10-13 16:44:57.849 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 16:44:57.849 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App) in 10497.2798ms
[2025-10-13 16:44:57.849 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-13 16:44:57.849 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 200 53 application/json; charset=utf-8 10500.3068ms
[2025-10-13 16:44:59.113 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - null null
[2025-10-13 16:44:59.114 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:44:59.114 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 204 null null 0.2575ms
[2025-10-13 16:44:59.190 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - application/json 2
[2025-10-13 16:44:59.190 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:44:59.190 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 16:44:59.190 +03:00  INF]  Route matched with {action = "GetImgsByTrip", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByTrip(Int64) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:44:59.196 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
ORDER BY t.id
[2025-10-13 16:44:59.197 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.trip_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:44:59.198 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App) in 7.4543ms
[2025-10-13 16:44:59.198 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByTrip (ITravel_App)'
[2025-10-13 16:44:59.198 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByTrip?trip_id=1 - 200 5466 application/json; charset=utf-8 8.5759ms
[2025-10-13 16:50:24.146 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - null null
[2025-10-13 16:50:24.146 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:24.146 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 204 null null 0.4094ms
[2025-10-13 16:50:24.156 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - application/json 2
[2025-10-13 16:50:24.156 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:24.158 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 16:50:24.158 +03:00  INF]  Route matched with {action = "GetTrip_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrip_Mains(Int32, Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:50:24.415 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.destination_id, t.active, t.id, t.pickup, t.route, t.show_in_slider, t.show_in_top, t.trip_code, t.trip_default_name, t.trip_duration, d.country_code, d.dest_code, d.dest_default_name, t.trip_type, t.transfer_category_id, t.trip_code_auto, t.release_days, t.trip_order, t.is_comm_soon
FROM trip_main AS t
INNER JOIN destination_main AS d ON t.destination_id = d.id
WHERE t.trip_type = t.trip_type OR t.trip_type IS NULL
ORDER BY t.id
[2025-10-13 16:50:24.416 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.TripMainCast, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:50:24.421 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App) in 262.6463ms
[2025-10-13 16:50:24.421 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetTrip_Mains (ITravel_App)'
[2025-10-13 16:50:24.421 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetTrip_Mains?destination_id=0&&trip_type=0 - 200 10957 application/json; charset=utf-8 265.3999ms
[2025-10-13 16:50:31.768 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetDestinationWithTranslations - null null
[2025-10-13 16:50:31.768 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:31.768 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetDestinationWithTranslations - 204 null null 0.5168ms
[2025-10-13 16:50:31.772 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetDestinationWithTranslations - application/json 55
[2025-10-13 16:50:31.772 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:31.773 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetDestinationMain?leaf=false - null null
[2025-10-13 16:50:31.773 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:31.773 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetDestinationWithTranslations (ITravel_App)'
[2025-10-13 16:50:31.773 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetDestinationMain?leaf=false - 204 null null 0.2986ms
[2025-10-13 16:50:31.778 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetDestinationMain?leaf=false - application/json 2
[2025-10-13 16:50:31.778 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:31.779 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetDestination_Mains (ITravel_App)'
[2025-10-13 16:50:31.779 +03:00  INF]  Route matched with {action = "GetDestination_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDestination_Mains(Boolean) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:50:31.780 +03:00  INF]  Route matched with {action = "GetDestinationWithTranslations", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDestinationWithTranslations(ITravelApp.Data.Models.destination.DestinationReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:50:31.789 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.active, d.country_code, d.created_at, d.created_by, d.dest_code, d.dest_default_name, d.leaf, d."order", d.parent_id, d.route, d.updated_at
FROM destination_main AS d
WHERE d.active AND (d.leaf = d.leaf OR d.leaf IS NULL)
[2025-10-13 16:50:31.792 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_main, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:50:31.793 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetDestination_Mains (ITravel_App) in 14.3845ms
[2025-10-13 16:50:31.793 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetDestination_Mains (ITravel_App)'
[2025-10-13 16:50:31.794 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetDestinationMain?leaf=false - 200 3053 application/json; charset=utf-8 16.4756ms
[2025-10-13 16:50:32.001 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d.id AS destination_id, CASE
    WHEN d1.id IS NOT NULL THEN d1.id
    ELSE 0
END AS id, d.country_code, d.active, d.dest_code, d1.dest_description, d1.dest_name, d1.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d3.dest_default_name AS parent_name, d."order"
FROM destination_main AS d
LEFT JOIN (
    SELECT d0.id, d0.dest_description, d0.dest_name, d0.destination_id, d0.lang_code
    FROM destination_translations AS d0
    WHERE d0.active
) AS d1 ON d.id = d1.destination_id
LEFT JOIN (
    SELECT d2.id, d2.dest_default_name
    FROM destination_main AS d2
    WHERE d2.parent_id = 0 AND d2.active
) AS d3 ON d.parent_id = d3.id
WHERE d.active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL)
[2025-10-13 16:50:32.032 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_Key_dest_code_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.id AS destination_id, CASE
    WHEN d1.id IS NOT NULL THEN d1.id
    ELSE 0
END AS id, d.country_code, d.active, d.dest_code, d1.dest_description, d1.dest_name, d1.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d3.dest_default_name AS parent_name, d."order"
FROM destination_main AS d
LEFT JOIN (
    SELECT d0.id, d0.dest_description, d0.dest_name, d0.destination_id, d0.lang_code
    FROM destination_translations AS d0
    WHERE d0.active
) AS d1 ON d.id = d1.destination_id
LEFT JOIN (
    SELECT d2.id, d2.dest_default_name
    FROM destination_main AS d2
    WHERE d2.parent_id = 0 AND d2.active
) AS d3 ON d.parent_id = d3.id
WHERE d.active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL) AND d.dest_code = @__s_Key_dest_code_0
[2025-10-13 16:50:32.036 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_Key_dest_code_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.id AS destination_id, CASE
    WHEN d1.id IS NOT NULL THEN d1.id
    ELSE 0
END AS id, d.country_code, d.active, d.dest_code, d1.dest_description, d1.dest_name, d1.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d3.dest_default_name AS parent_name, d."order"
FROM destination_main AS d
LEFT JOIN (
    SELECT d0.id, d0.dest_description, d0.dest_name, d0.destination_id, d0.lang_code
    FROM destination_translations AS d0
    WHERE d0.active
) AS d1 ON d.id = d1.destination_id
LEFT JOIN (
    SELECT d2.id, d2.dest_default_name
    FROM destination_main AS d2
    WHERE d2.parent_id = 0 AND d2.active
) AS d3 ON d.parent_id = d3.id
WHERE d.active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL) AND d.dest_code = @__s_Key_dest_code_0
[2025-10-13 16:50:32.039 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_Key_dest_code_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.id AS destination_id, CASE
    WHEN d1.id IS NOT NULL THEN d1.id
    ELSE 0
END AS id, d.country_code, d.active, d.dest_code, d1.dest_description, d1.dest_name, d1.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d3.dest_default_name AS parent_name, d."order"
FROM destination_main AS d
LEFT JOIN (
    SELECT d0.id, d0.dest_description, d0.dest_name, d0.destination_id, d0.lang_code
    FROM destination_translations AS d0
    WHERE d0.active
) AS d1 ON d.id = d1.destination_id
LEFT JOIN (
    SELECT d2.id, d2.dest_default_name
    FROM destination_main AS d2
    WHERE d2.parent_id = 0 AND d2.active
) AS d3 ON d.parent_id = d3.id
WHERE d.active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL) AND d.dest_code = @__s_Key_dest_code_0
[2025-10-13 16:50:32.041 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_Key_dest_code_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.id AS destination_id, CASE
    WHEN d1.id IS NOT NULL THEN d1.id
    ELSE 0
END AS id, d.country_code, d.active, d.dest_code, d1.dest_description, d1.dest_name, d1.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d3.dest_default_name AS parent_name, d."order"
FROM destination_main AS d
LEFT JOIN (
    SELECT d0.id, d0.dest_description, d0.dest_name, d0.destination_id, d0.lang_code
    FROM destination_translations AS d0
    WHERE d0.active
) AS d1 ON d.id = d1.destination_id
LEFT JOIN (
    SELECT d2.id, d2.dest_default_name
    FROM destination_main AS d2
    WHERE d2.parent_id = 0 AND d2.active
) AS d3 ON d.parent_id = d3.id
WHERE d.active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL) AND d.dest_code = @__s_Key_dest_code_0
[2025-10-13 16:50:32.043 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_Key_dest_code_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.id AS destination_id, CASE
    WHEN d1.id IS NOT NULL THEN d1.id
    ELSE 0
END AS id, d.country_code, d.active, d.dest_code, d1.dest_description, d1.dest_name, d1.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d3.dest_default_name AS parent_name, d."order"
FROM destination_main AS d
LEFT JOIN (
    SELECT d0.id, d0.dest_description, d0.dest_name, d0.destination_id, d0.lang_code
    FROM destination_translations AS d0
    WHERE d0.active
) AS d1 ON d.id = d1.destination_id
LEFT JOIN (
    SELECT d2.id, d2.dest_default_name
    FROM destination_main AS d2
    WHERE d2.parent_id = 0 AND d2.active
) AS d3 ON d.parent_id = d3.id
WHERE d.active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL) AND d.dest_code = @__s_Key_dest_code_0
[2025-10-13 16:50:32.046 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_Key_dest_code_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.id AS destination_id, CASE
    WHEN d1.id IS NOT NULL THEN d1.id
    ELSE 0
END AS id, d.country_code, d.active, d.dest_code, d1.dest_description, d1.dest_name, d1.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d3.dest_default_name AS parent_name, d."order"
FROM destination_main AS d
LEFT JOIN (
    SELECT d0.id, d0.dest_description, d0.dest_name, d0.destination_id, d0.lang_code
    FROM destination_translations AS d0
    WHERE d0.active
) AS d1 ON d.id = d1.destination_id
LEFT JOIN (
    SELECT d2.id, d2.dest_default_name
    FROM destination_main AS d2
    WHERE d2.parent_id = 0 AND d2.active
) AS d3 ON d.parent_id = d3.id
WHERE d.active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL) AND d.dest_code = @__s_Key_dest_code_0
[2025-10-13 16:50:32.049 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_Key_dest_code_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.id AS destination_id, CASE
    WHEN d1.id IS NOT NULL THEN d1.id
    ELSE 0
END AS id, d.country_code, d.active, d.dest_code, d1.dest_description, d1.dest_name, d1.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d3.dest_default_name AS parent_name, d."order"
FROM destination_main AS d
LEFT JOIN (
    SELECT d0.id, d0.dest_description, d0.dest_name, d0.destination_id, d0.lang_code
    FROM destination_translations AS d0
    WHERE d0.active
) AS d1 ON d.id = d1.destination_id
LEFT JOIN (
    SELECT d2.id, d2.dest_default_name
    FROM destination_main AS d2
    WHERE d2.parent_id = 0 AND d2.active
) AS d3 ON d.parent_id = d3.id
WHERE d.active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL) AND d.dest_code = @__s_Key_dest_code_0
[2025-10-13 16:50:32.051 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_Key_dest_code_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.id AS destination_id, CASE
    WHEN d1.id IS NOT NULL THEN d1.id
    ELSE 0
END AS id, d.country_code, d.active, d.dest_code, d1.dest_description, d1.dest_name, d1.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d3.dest_default_name AS parent_name, d."order"
FROM destination_main AS d
LEFT JOIN (
    SELECT d0.id, d0.dest_description, d0.dest_name, d0.destination_id, d0.lang_code
    FROM destination_translations AS d0
    WHERE d0.active
) AS d1 ON d.id = d1.destination_id
LEFT JOIN (
    SELECT d2.id, d2.dest_default_name
    FROM destination_main AS d2
    WHERE d2.parent_id = 0 AND d2.active
) AS d3 ON d.parent_id = d3.id
WHERE d.active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL) AND d.dest_code = @__s_Key_dest_code_0
[2025-10-13 16:50:32.055 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_Key_dest_code_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.id AS destination_id, CASE
    WHEN d1.id IS NOT NULL THEN d1.id
    ELSE 0
END AS id, d.country_code, d.active, d.dest_code, d1.dest_description, d1.dest_name, d1.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d3.dest_default_name AS parent_name, d."order"
FROM destination_main AS d
LEFT JOIN (
    SELECT d0.id, d0.dest_description, d0.dest_name, d0.destination_id, d0.lang_code
    FROM destination_translations AS d0
    WHERE d0.active
) AS d1 ON d.id = d1.destination_id
LEFT JOIN (
    SELECT d2.id, d2.dest_default_name
    FROM destination_main AS d2
    WHERE d2.parent_id = 0 AND d2.active
) AS d3 ON d.parent_id = d3.id
WHERE d.active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL) AND d.dest_code = @__s_Key_dest_code_0
[2025-10-13 16:50:32.057 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_Key_dest_code_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.id AS destination_id, CASE
    WHEN d1.id IS NOT NULL THEN d1.id
    ELSE 0
END AS id, d.country_code, d.active, d.dest_code, d1.dest_description, d1.dest_name, d1.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d3.dest_default_name AS parent_name, d."order"
FROM destination_main AS d
LEFT JOIN (
    SELECT d0.id, d0.dest_description, d0.dest_name, d0.destination_id, d0.lang_code
    FROM destination_translations AS d0
    WHERE d0.active
) AS d1 ON d.id = d1.destination_id
LEFT JOIN (
    SELECT d2.id, d2.dest_default_name
    FROM destination_main AS d2
    WHERE d2.parent_id = 0 AND d2.active
) AS d3 ON d.parent_id = d3.id
WHERE d.active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL) AND d.dest_code = @__s_Key_dest_code_0
[2025-10-13 16:50:32.059 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_Key_dest_code_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.id AS destination_id, CASE
    WHEN d1.id IS NOT NULL THEN d1.id
    ELSE 0
END AS id, d.country_code, d.active, d.dest_code, d1.dest_description, d1.dest_name, d1.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d3.dest_default_name AS parent_name, d."order"
FROM destination_main AS d
LEFT JOIN (
    SELECT d0.id, d0.dest_description, d0.dest_name, d0.destination_id, d0.lang_code
    FROM destination_translations AS d0
    WHERE d0.active
) AS d1 ON d.id = d1.destination_id
LEFT JOIN (
    SELECT d2.id, d2.dest_default_name
    FROM destination_main AS d2
    WHERE d2.parent_id = 0 AND d2.active
) AS d3 ON d.parent_id = d3.id
WHERE d.active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL) AND d.dest_code = @__s_Key_dest_code_0
[2025-10-13 16:50:32.062 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_Key_dest_code_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.id AS destination_id, CASE
    WHEN d1.id IS NOT NULL THEN d1.id
    ELSE 0
END AS id, d.country_code, d.active, d.dest_code, d1.dest_description, d1.dest_name, d1.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d3.dest_default_name AS parent_name, d."order"
FROM destination_main AS d
LEFT JOIN (
    SELECT d0.id, d0.dest_description, d0.dest_name, d0.destination_id, d0.lang_code
    FROM destination_translations AS d0
    WHERE d0.active
) AS d1 ON d.id = d1.destination_id
LEFT JOIN (
    SELECT d2.id, d2.dest_default_name
    FROM destination_main AS d2
    WHERE d2.parent_id = 0 AND d2.active
) AS d3 ON d.parent_id = d3.id
WHERE d.active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL) AND d.dest_code = @__s_Key_dest_code_0
[2025-10-13 16:50:32.062 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.destination.DestinationWithTranslations, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:50:32.089 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetDestinationWithTranslations (ITravel_App) in 308.8528ms
[2025-10-13 16:50:32.089 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetDestinationWithTranslations (ITravel_App)'
[2025-10-13 16:50:32.090 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetDestinationWithTranslations - 200 11204 application/json; charset=utf-8 317.9946ms
[2025-10-13 16:50:33.075 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetDestinationMain?leaf=false - null null
[2025-10-13 16:50:33.076 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:33.076 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetDestinationMain?leaf=false - 204 null null 0.3297ms
[2025-10-13 16:50:33.078 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetDestinationMain?leaf=false - application/json 2
[2025-10-13 16:50:33.078 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:33.079 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetDestination_Mains (ITravel_App)'
[2025-10-13 16:50:33.079 +03:00  INF]  Route matched with {action = "GetDestination_Mains", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDestination_Mains(Boolean) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:50:33.082 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.active, d.country_code, d.created_at, d.created_by, d.dest_code, d.dest_default_name, d.leaf, d."order", d.parent_id, d.route, d.updated_at
FROM destination_main AS d
WHERE d.active AND (d.leaf = d.leaf OR d.leaf IS NULL)
[2025-10-13 16:50:33.084 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_main, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:50:33.084 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetDestination_Mains (ITravel_App) in 5.5836ms
[2025-10-13 16:50:33.085 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetDestination_Mains (ITravel_App)'
[2025-10-13 16:50:33.086 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetDestinationMain?leaf=false - 200 3053 application/json; charset=utf-8 8.0251ms
[2025-10-13 16:50:38.086 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - null null
[2025-10-13 16:50:38.087 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:38.087 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - 204 null null 0.4546ms
[2025-10-13 16:50:38.089 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - application/json 2
[2025-10-13 16:50:38.089 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:38.090 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:50:38.090 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:50:38.095 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:50:38.095 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:50:38.095 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 5.1157ms
[2025-10-13 16:50:38.095 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:50:38.096 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=7 - 200 837 application/json; charset=utf-8 6.883ms
[2025-10-13 16:50:41.254 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=6 - null null
[2025-10-13 16:50:41.254 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:41.254 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=6 - 204 null null 0.4117ms
[2025-10-13 16:50:41.256 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=6 - application/json 2
[2025-10-13 16:50:41.256 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:41.258 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:50:41.258 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:50:41.260 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:50:41.262 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:50:41.262 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 3.9836ms
[2025-10-13 16:50:41.262 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:50:41.262 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=6 - 200 284 application/json; charset=utf-8 6.1931ms
[2025-10-13 16:50:46.137 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/saveDestinationImage - null null
[2025-10-13 16:50:46.137 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:46.137 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/saveDestinationImage - 204 null null 0.4885ms
[2025-10-13 16:50:46.148 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/saveDestinationImage - multipart/form-data; boundary=----WebKitFormBoundaryesx0rLMOewkSKDpt 235879
[2025-10-13 16:50:46.156 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:46.157 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App)'
[2025-10-13 16:50:46.158 +03:00  INF]  Route matched with {action = "saveDestinationImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult saveDestinationImageAsync(ITravelApp.Data.Models.destination.DestinationImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:50:46.186 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__row_destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.created_at, d.created_by, d.destination_id, d.img_height, d.img_name, d.img_path, d.img_resize_path, d.img_width, d.is_default, d.updated_at
FROM destination_imgs AS d
WHERE d.destination_id = @__row_destination_id_0 AND d.is_default IS NULL
LIMIT 2
[2025-10-13 16:50:46.188 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM destination_imgs AS d
[2025-10-13 16:50:46.189 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(d.id)
FROM destination_imgs AS d
[2025-10-13 16:50:46.192 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO destination_imgs (id, created_by, destination_id, img_height, img_name, img_path, img_resize_path, img_width, is_default)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, updated_at;
[2025-10-13 16:50:46.192 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 16:50:46.193 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App) in 34.8598ms
[2025-10-13 16:50:46.193 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App)'
[2025-10-13 16:50:46.193 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/saveDestinationImage - 200 53 application/json; charset=utf-8 45.2013ms
[2025-10-13 16:50:46.226 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=6 - null null
[2025-10-13 16:50:46.226 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:46.231 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=6 - 204 null null 6.0317ms
[2025-10-13 16:50:46.234 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=6 - application/json 2
[2025-10-13 16:50:46.234 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:50:46.234 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:50:46.234 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:50:46.237 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:50:46.238 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:50:46.238 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 4.0193ms
[2025-10-13 16:50:46.238 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:50:46.239 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=6 - 200 584 application/json; charset=utf-8 5.0199ms
[2025-10-13 16:51:02.540 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/saveDestinationImage - null null
[2025-10-13 16:51:02.540 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:02.540 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/saveDestinationImage - 204 null null 0.5603ms
[2025-10-13 16:51:02.543 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/saveDestinationImage - multipart/form-data; boundary=----WebKitFormBoundaryvrsTQ3QFCBVhXPbT 151029
[2025-10-13 16:51:02.545 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:02.546 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App)'
[2025-10-13 16:51:02.546 +03:00  INF]  Route matched with {action = "saveDestinationImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult saveDestinationImageAsync(ITravelApp.Data.Models.destination.DestinationImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:51:02.579 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__row_destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.created_at, d.created_by, d.destination_id, d.img_height, d.img_name, d.img_path, d.img_resize_path, d.img_width, d.is_default, d.updated_at
FROM destination_imgs AS d
WHERE d.destination_id = @__row_destination_id_0 AND d.is_default IS NULL
LIMIT 2
[2025-10-13 16:51:02.580 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM destination_imgs AS d
[2025-10-13 16:51:02.582 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(d.id)
FROM destination_imgs AS d
[2025-10-13 16:51:02.583 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO destination_imgs (id, created_by, destination_id, img_height, img_name, img_path, img_resize_path, img_width, is_default)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, updated_at;
[2025-10-13 16:51:02.584 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-13 16:51:02.584 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App) in 37.9259ms
[2025-10-13 16:51:02.584 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App)'
[2025-10-13 16:51:02.585 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/saveDestinationImage - 200 53 application/json; charset=utf-8 41.9731ms
[2025-10-13 16:51:02.609 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=6 - null null
[2025-10-13 16:51:02.609 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:02.609 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=6 - 204 null null 0.208ms
[2025-10-13 16:51:02.612 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=6 - application/json 2
[2025-10-13 16:51:02.612 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:02.612 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:02.613 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:51:02.614 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:51:02.614 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:51:02.615 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 2.0569ms
[2025-10-13 16:51:02.615 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:02.615 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=6 - 200 884 application/json; charset=utf-8 2.9249ms
[2025-10-13 16:51:31.966 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=13 - null null
[2025-10-13 16:51:31.966 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:31.966 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=13 - 204 null null 0.4192ms
[2025-10-13 16:51:31.968 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=13 - application/json 2
[2025-10-13 16:51:31.968 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:31.971 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:31.971 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:51:31.973 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:51:31.977 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:51:31.980 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 9.3092ms
[2025-10-13 16:51:31.980 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:31.980 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=13 - 200 284 application/json; charset=utf-8 12.9176ms
[2025-10-13 16:51:34.661 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=11 - null null
[2025-10-13 16:51:34.661 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:34.661 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=11 - 204 null null 0.3056ms
[2025-10-13 16:51:34.663 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=11 - application/json 2
[2025-10-13 16:51:34.663 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:34.664 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:34.664 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:51:34.666 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:51:34.667 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:51:34.669 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 4.7111ms
[2025-10-13 16:51:34.669 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:34.669 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=11 - 200 284 application/json; charset=utf-8 6.1881ms
[2025-10-13 16:51:36.926 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=11 - null null
[2025-10-13 16:51:36.926 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:36.926 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=11 - 204 null null 0.1751ms
[2025-10-13 16:51:36.928 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=11 - application/json 2
[2025-10-13 16:51:36.928 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:36.928 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:36.928 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:51:36.930 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:51:36.931 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:51:36.932 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 3.4772ms
[2025-10-13 16:51:36.932 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:36.934 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=11 - 200 284 application/json; charset=utf-8 6.6507ms
[2025-10-13 16:51:39.222 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=8 - null null
[2025-10-13 16:51:39.223 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:39.223 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=8 - 204 null null 0.4027ms
[2025-10-13 16:51:39.224 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=8 - application/json 2
[2025-10-13 16:51:39.225 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:39.225 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:39.225 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:51:39.229 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:51:39.229 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:51:39.229 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 4.0299ms
[2025-10-13 16:51:39.229 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:39.229 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=8 - 200 276 application/json; charset=utf-8 4.8942ms
[2025-10-13 16:51:41.638 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=12 - null null
[2025-10-13 16:51:41.638 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:41.638 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=12 - 204 null null 0.3236ms
[2025-10-13 16:51:41.640 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=12 - application/json 2
[2025-10-13 16:51:41.640 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:41.641 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:41.641 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:51:41.643 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:51:41.645 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:51:41.645 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 4.2036ms
[2025-10-13 16:51:41.645 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:41.645 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=12 - 200 284 application/json; charset=utf-8 5.7371ms
[2025-10-13 16:51:43.910 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=12 - null null
[2025-10-13 16:51:43.910 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:43.910 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=12 - 204 null null 0.3526ms
[2025-10-13 16:51:43.912 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=12 - application/json 2
[2025-10-13 16:51:43.912 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:43.913 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:43.913 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:51:43.915 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:51:43.916 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:51:43.917 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 4.0717ms
[2025-10-13 16:51:43.917 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:43.918 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=12 - 200 284 application/json; charset=utf-8 6.4175ms
[2025-10-13 16:51:48.983 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=14 - null null
[2025-10-13 16:51:48.983 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:48.983 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=14 - 204 null null 0.4373ms
[2025-10-13 16:51:48.985 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=14 - application/json 2
[2025-10-13 16:51:48.985 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:48.986 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:48.986 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:51:48.988 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:51:48.988 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:51:48.988 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 2.2498ms
[2025-10-13 16:51:48.988 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:48.988 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=14 - 200 284 application/json; charset=utf-8 3.0511ms
[2025-10-13 16:51:55.334 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=12 - null null
[2025-10-13 16:51:55.334 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:55.334 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=12 - 204 null null 0.1851ms
[2025-10-13 16:51:55.337 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=12 - application/json 2
[2025-10-13 16:51:55.337 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:51:55.337 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:55.338 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:51:55.339 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:51:55.341 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:51:55.341 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 3.83ms
[2025-10-13 16:51:55.341 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:51:55.342 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=12 - 200 284 application/json; charset=utf-8 4.9112ms
[2025-10-13 16:52:00.727 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=16 - null null
[2025-10-13 16:52:00.727 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:52:00.727 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=16 - 204 null null 0.324ms
[2025-10-13 16:52:00.729 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=16 - application/json 2
[2025-10-13 16:52:00.729 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:52:00.730 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:52:00.730 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:52:00.732 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:52:00.733 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:52:00.734 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 4.4433ms
[2025-10-13 16:52:00.734 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:52:00.735 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=16 - 200 2 application/json; charset=utf-8 5.423ms
[2025-10-13 16:52:07.046 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=11 - null null
[2025-10-13 16:52:07.046 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:52:07.046 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=11 - 204 null null 0.2513ms
[2025-10-13 16:52:07.048 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=11 - application/json 2
[2025-10-13 16:52:07.049 +03:00  INF]  CORS policy execution successful.
[2025-10-13 16:52:07.049 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:52:07.049 +03:00  INF]  Route matched with {action = "GetImgsByDestination", controller = "TravelAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImgsByDestination(Int32) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-13 16:52:07.055 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.img_height, d.img_name, 'http://api.raccoon24.com/' || COALESCE(d.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(d.img_resize_path, '') AS img_resize_path, d.img_width, d.is_default, d.destination_id
FROM destination_imgs AS d
WHERE d.destination_id = @__destination_id_0
ORDER BY d.id
[2025-10-13 16:52:07.066 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destination_img, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-13 16:52:07.066 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App) in 16.9244ms
[2025-10-13 16:52:07.069 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.GetImgsByDestination (ITravel_App)'
[2025-10-13 16:52:07.069 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/GetImgsByDestination?destination_id=11 - 200 284 application/json; charset=utf-8 20.7323ms
