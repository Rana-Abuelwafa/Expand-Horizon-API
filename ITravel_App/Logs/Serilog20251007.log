[2025-10-07 13:43:39.166 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-07 13:43:40.836 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-07 13:43:40.837 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-07 13:43:41.137 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-07 13:43:41.138 +03:00  INF]  Hosting environment: Development
[2025-10-07 13:43:41.138 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-07 13:43:44.002 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-07 13:43:44.729 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 740.4392ms
[2025-10-07 13:43:47.606 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-07 13:43:47.613 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 7.6592ms
[2025-10-07 13:43:47.794 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-07 13:43:47.894 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 99.3608ms
[2025-10-07 13:43:48.765 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-07 13:43:48.855 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.587ms
[2025-10-07 13:44:39.521 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/ConfirmBooking - application/json-patch+json 62
[2025-10-07 13:44:39.538 +03:00  INF]  CORS policy execution successful.
[2025-10-07 13:44:42.449 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.ConfirmBooking (ITravel_App)'
[2025-10-07 13:44:42.480 +03:00  INF]  Route matched with {action = "ConfirmBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmBooking(ITravelApp.Data.Models.Bookings.ConfirmBookingReq) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-07 13:44:46.069 +03:00  INF]  Executed DbCommand (80ms) [Parameters=[@__req_booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.booking_code, t.booking_code_auto, t.booking_date, t.booking_notes, t.booking_status, t.child_num, t.client_email, t.client_id, t.client_name, t.client_nationality, t.client_phone, t.currency_code, t.gift_code, t.infant_num, t.is_two_way, t.pickup_address, t.pickup_time, t.total_pax, t.total_price, t.trip_code, t.trip_date, t.trip_id, t.trip_return_date, t.trip_type
FROM trips_booking AS t
WHERE t.id = @__req_booking_id_0
LIMIT 2
[2025-10-07 13:44:46.382 +03:00  INF]  Executed DbCommand (16ms) [Parameters=[@p24='?' (DbType = Int64), @p0='?', @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Int32), @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Decimal), @p19='?', @p20='?' (DbType = DateTime2), @p21='?' (DbType = Int64), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE trips_booking SET booking_code = @p0, booking_code_auto = @p1, booking_date = @p2, booking_notes = @p3, booking_status = @p4, child_num = @p5, client_email = @p6, client_id = @p7, client_name = @p8, client_nationality = @p9, client_phone = @p10, currency_code = @p11, gift_code = @p12, infant_num = @p13, is_two_way = @p14, pickup_address = @p15, pickup_time = @p16, total_pax = @p17, total_price = @p18, trip_code = @p19, trip_date = @p20, trip_id = @p21, trip_return_date = @p22, trip_type = @p23
WHERE id = @p24;
[2025-10-07 13:44:46.441 +03:00  INF]  Executed DbCommand (16ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_id_1='?' (DbType = Int64), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_id = @__req_booking_id_1 AND b.client_id = @__req_client_id_2
LIMIT 2
[2025-10-07 13:44:46.590 +03:00  INF]  Executed DbCommand (13ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-10-07 13:46:35.366 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-07 13:46:36.006 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-07 13:46:36.006 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-07 13:46:36.175 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-07 13:46:36.176 +03:00  INF]  Hosting environment: Development
[2025-10-07 13:46:36.176 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-07 13:46:38.770 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-07 13:46:39.254 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 499.4186ms
[2025-10-07 13:46:39.539 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-07 13:46:39.546 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 7.2904ms
[2025-10-07 13:46:39.684 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-07 13:46:39.749 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.1808ms
[2025-10-07 13:46:44.023 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-07 13:46:44.113 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.5761ms
[2025-10-07 13:47:34.030 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/GetMyBooking - application/json-patch+json 49
[2025-10-07 13:47:34.043 +03:00  INF]  CORS policy execution successful.
[2025-10-07 13:47:34.459 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.GetMyBooking (ITravel_App)'
[2025-10-07 13:47:34.546 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ITravelApp.Data.Models.global.LangReq) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-07 13:47:38.719 +03:00  INF]  Executed DbCommand (190ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2
[2025-10-07 13:47:39.027 +03:00  INF]  Executed DbCommand (18ms) [Parameters=[@__ToLower_1='?', @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f1.extra_price * b.extra_count::numeric AS extra_price, b.id
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN facility_main AS f1 ON f0.facility_id = f1.id
WHERE b.booking_id = @__booking_id_0
[2025-10-07 13:47:39.046 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f1.extra_price * b.extra_count::numeric AS extra_price, b.id
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN facility_main AS f1 ON f0.facility_id = f1.id
WHERE b.booking_id = @__booking_id_0
[2025-10-07 13:47:39.051 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f1.extra_price * b.extra_count::numeric AS extra_price, b.id
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN facility_main AS f1 ON f0.facility_id = f1.id
WHERE b.booking_id = @__booking_id_0
[2025-10-07 13:47:39.053 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f1.extra_price * b.extra_count::numeric AS extra_price, b.id
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN facility_main AS f1 ON f0.facility_id = f1.id
WHERE b.booking_id = @__booking_id_0
[2025-10-07 13:47:39.075 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.Bookings.Client.BookingSummary, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-07 13:47:39.212 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.GetMyBooking (ITravel_App) in 4658.8916ms
[2025-10-07 13:47:39.213 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.GetMyBooking (ITravel_App)'
[2025-10-07 13:47:39.235 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/GetMyBooking - 200 5796 application/json; charset=utf-8 5205.2103ms
[2025-10-07 13:48:03.731 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/ConfirmBooking - application/json-patch+json 62
[2025-10-07 13:48:03.733 +03:00  INF]  CORS policy execution successful.
[2025-10-07 13:48:03.782 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.ConfirmBooking (ITravel_App)'
[2025-10-07 13:48:03.792 +03:00  INF]  Route matched with {action = "ConfirmBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmBooking(ITravelApp.Data.Models.Bookings.ConfirmBookingReq) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-07 13:48:03.903 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.booking_code, t.booking_code_auto, t.booking_date, t.booking_notes, t.booking_status, t.child_num, t.client_email, t.client_id, t.client_name, t.client_nationality, t.client_phone, t.currency_code, t.gift_code, t.infant_num, t.is_two_way, t.pickup_address, t.pickup_time, t.total_pax, t.total_price, t.trip_code, t.trip_date, t.trip_id, t.trip_return_date, t.trip_type
FROM trips_booking AS t
WHERE t.id = @__req_booking_id_0
LIMIT 2
[2025-10-07 13:48:04.422 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[@p24='?' (DbType = Int64), @p0='?', @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Int32), @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Decimal), @p19='?', @p20='?' (DbType = DateTime2), @p21='?' (DbType = Int64), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE trips_booking SET booking_code = @p0, booking_code_auto = @p1, booking_date = @p2, booking_notes = @p3, booking_status = @p4, child_num = @p5, client_email = @p6, client_id = @p7, client_name = @p8, client_nationality = @p9, client_phone = @p10, currency_code = @p11, gift_code = @p12, infant_num = @p13, is_two_way = @p14, pickup_address = @p15, pickup_time = @p16, total_pax = @p17, total_price = @p18, trip_code = @p19, trip_date = @p20, trip_id = @p21, trip_return_date = @p22, trip_type = @p23
WHERE id = @p24;
[2025-10-07 13:48:04.455 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_id_1='?' (DbType = Int64), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_id = @__req_booking_id_1 AND b.client_id = @__req_client_id_2
LIMIT 2
[2025-10-07 13:48:04.507 +03:00  INF]  Executed DbCommand (15ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-10-07 13:48:27.042 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Boolean'.
[2025-10-07 13:48:27.045 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.ConfirmBooking (ITravel_App) in 23252.1361ms
[2025-10-07 13:48:27.045 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.ConfirmBooking (ITravel_App)'
[2025-10-07 13:48:27.057 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/ConfirmBooking - 200 4 application/json; charset=utf-8 23326.5632ms
