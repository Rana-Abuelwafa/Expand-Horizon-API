[2025-10-06 12:28:15.652 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-06 12:28:16.680 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-06 12:28:16.682 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-06 12:28:17.044 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-06 12:28:17.045 +03:00  INF]  Hosting environment: Development
[2025-10-06 12:28:17.045 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-06 12:28:23.198 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-06 12:28:23.535 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 343.9639ms
[2025-10-06 12:28:23.567 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-06 12:28:23.619 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-06 12:28:23.624 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 56.6071ms
[2025-10-06 12:28:23.742 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 123.2248ms
[2025-10-06 12:28:23.804 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-06 12:28:23.900 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.7995ms
[2025-10-06 12:32:01.971 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - application/json-patch+json 675
[2025-10-06 12:32:01.985 +03:00  INF]  CORS policy execution successful.
[2025-10-06 12:32:03.520 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-06 12:32:03.542 +03:00  INF]  Route matched with {action = "SaveClientBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveClientBooking(ITravelApp.Data.Models.Bookings.BookingCls) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-06 12:32:05.015 +03:00  INF]  Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trips_booking AS t
[2025-10-06 12:32:05.106 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trips_booking AS t
[2025-10-06 12:32:05.337 +03:00  INF]  Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Int32), @p15='?' (DbType = Boolean), @p16='?', @p17='?', @p18='?' (DbType = Int32), @p19='?' (DbType = Decimal), @p20='?', @p21='?' (DbType = DateTime2), @p22='?' (DbType = Int64), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trips_booking (id, booking_code, booking_code_auto, booking_date, booking_notes, booking_status, child_num, client_email, client_id, client_name, client_nationality, client_phone, currency_code, gift_code, infant_num, is_two_way, pickup_address, pickup_time, total_pax, total_price, trip_code, trip_date, trip_id, trip_return_date, trip_type)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
[2025-10-06 12:32:05.384 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-06 12:32:05.420 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App) in 1874.8457ms
[2025-10-06 12:32:05.420 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.SaveClientBooking (ITravel_App)'
[2025-10-06 12:32:05.431 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/SaveClientBooking - 200 123 application/json; charset=utf-8 3460.2793ms
[2025-10-06 12:32:47.381 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/Booking/ConfirmBooking - application/json-patch+json 62
[2025-10-06 12:32:47.388 +03:00  INF]  CORS policy execution successful.
[2025-10-06 12:32:47.399 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.BookingController.ConfirmBooking (ITravel_App)'
[2025-10-06 12:32:47.408 +03:00  INF]  Route matched with {action = "ConfirmBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmBooking(ITravelApp.Data.Models.Bookings.ConfirmBookingReq) on controller ITravel_App.Controllers.BookingController (ITravel_App).
[2025-10-06 12:32:47.528 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__req_booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.booking_code, t.booking_code_auto, t.booking_date, t.booking_notes, t.booking_status, t.child_num, t.client_email, t.client_id, t.client_name, t.client_nationality, t.client_phone, t.currency_code, t.gift_code, t.infant_num, t.is_two_way, t.pickup_address, t.pickup_time, t.total_pax, t.total_price, t.trip_code, t.trip_date, t.trip_id, t.trip_return_date, t.trip_type
FROM trips_booking AS t
WHERE t.id = @__req_booking_id_0
LIMIT 2
[2025-10-06 12:32:47.554 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p24='?' (DbType = Int64), @p0='?', @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Int32), @p14='?' (DbType = Boolean), @p15='?', @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Decimal), @p19='?', @p20='?' (DbType = DateTime2), @p21='?' (DbType = Int64), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE trips_booking SET booking_code = @p0, booking_code_auto = @p1, booking_date = @p2, booking_notes = @p3, booking_status = @p4, child_num = @p5, client_email = @p6, client_id = @p7, client_name = @p8, client_nationality = @p9, client_phone = @p10, currency_code = @p11, gift_code = @p12, infant_num = @p13, is_two_way = @p14, pickup_address = @p15, pickup_time = @p16, total_pax = @p17, total_price = @p18, trip_code = @p19, trip_date = @p20, trip_id = @p21, trip_return_date = @p22, trip_type = @p23
WHERE id = @p24;
[2025-10-06 12:32:47.581 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_id_1='?' (DbType = Int64), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_id = @__req_booking_id_1 AND b.client_id = @__req_client_id_2
LIMIT 2
[2025-10-06 12:32:47.689 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-10-06 12:33:01.207 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Boolean'.
[2025-10-06 12:33:01.215 +03:00  INF]  Executed action ITravel_App.Controllers.BookingController.ConfirmBooking (ITravel_App) in 13806.4439ms
[2025-10-06 12:33:01.219 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.BookingController.ConfirmBooking (ITravel_App)'
[2025-10-06 12:33:01.232 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/Booking/ConfirmBooking - 200 4 application/json; charset=utf-8 13850.9216ms
[2025-10-06 12:36:31.118 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundaryVcMdgryWtcsowOxk 68168
[2025-10-06 12:36:31.121 +03:00  INF]  CORS policy execution successful.
[2025-10-06 12:36:31.158 +03:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
[2025-10-06 12:36:31.160 +03:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2025-10-06 12:36:31.160 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 403 0 null 42.8172ms
[2025-10-06 12:38:16.534 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundaryrh7SrQlxyLdpvcVU 68168
[2025-10-06 12:38:16.534 +03:00  INF]  CORS policy execution successful.
[2025-10-06 12:38:16.549 +03:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
[2025-10-06 12:38:16.550 +03:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2025-10-06 12:38:16.550 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 403 0 null 19.1992ms
[2025-10-06 12:38:44.181 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundary7AXvCj64KnBfoPiV 68168
[2025-10-06 12:38:44.185 +03:00  INF]  CORS policy execution successful.
[2025-10-06 12:38:44.185 +03:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
[2025-10-06 12:38:44.185 +03:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2025-10-06 12:38:44.185 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 403 0 null 34.612ms
[2025-10-06 12:40:07.822 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundaryq9hAykTlJTHuIBTR 68168
[2025-10-06 12:40:07.822 +03:00  INF]  CORS policy execution successful.
[2025-10-06 12:40:07.823 +03:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
[2025-10-06 12:40:07.823 +03:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2025-10-06 12:40:07.823 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 403 0 null 1.8245ms
[2025-10-06 12:41:38.458 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundaryd0kQouPNKYjX8kv0 68168
[2025-10-06 12:41:38.458 +03:00  INF]  CORS policy execution successful.
[2025-10-06 12:41:38.461 +03:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
[2025-10-06 12:41:38.463 +03:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2025-10-06 12:41:38.464 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 403 0 null 6.2375ms
[2025-10-06 12:41:44.602 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-06 12:41:44.626 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 24.1089ms
[2025-10-06 12:41:44.677 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-06 12:41:44.678 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-06 12:41:44.678 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 1.7834ms
[2025-10-06 12:41:44.706 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.0322ms
[2025-10-06 12:41:44.752 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-06 12:41:44.769 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/favicon-32x32.png - null null
[2025-10-06 12:41:44.794 +03:00  INF]  Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[2025-10-06 12:41:44.794 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/favicon-32x32.png - 200 628 image/png 27.1426ms
[2025-10-06 12:41:44.813 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.7076ms
[2025-10-06 12:43:18.950 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundaryXLLXnU3LLXUz92wa 234935
[2025-10-06 12:43:18.951 +03:00  INF]  CORS policy execution successful.
[2025-10-06 12:43:18.954 +03:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
[2025-10-06 12:43:18.955 +03:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2025-10-06 12:43:18.955 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 403 0 null 7.1731ms
[2025-10-06 12:43:48.711 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundaryRzosTB7XlYceYgPF 197575
[2025-10-06 12:43:48.711 +03:00  INF]  CORS policy execution successful.
[2025-10-06 12:43:48.714 +03:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
[2025-10-06 12:43:48.714 +03:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2025-10-06 12:43:48.715 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 403 0 null 3.7791ms
[2025-10-06 12:44:33.608 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-06 12:44:34.040 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-06 12:44:34.041 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-06 12:44:34.254 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-06 12:44:34.255 +03:00  INF]  Hosting environment: Development
[2025-10-06 12:44:34.255 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-06 12:44:35.208 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-06 12:44:35.491 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 294.8326ms
[2025-10-06 12:44:35.735 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-06 12:44:35.744 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 9.4301ms
[2025-10-06 12:44:36.092 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-06 12:44:36.145 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.3741ms
[2025-10-06 12:44:36.319 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-06 12:44:36.384 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.6633ms
[2025-10-06 12:47:30.071 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundarycKWVss9z69ntGffd 234887
[2025-10-06 12:47:30.085 +03:00  INF]  CORS policy execution successful.
[2025-10-06 12:47:30.254 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-06 12:47:30.289 +03:00  INF]  Route matched with {action = "SaveTripImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripImage(ITravelApp.Data.Models.trips.TripImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-06 12:47:34.733 +03:00  INF]  Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.img_order IS NULL
LIMIT 2
[2025-10-06 12:47:34.820 +03:00  INF]  Executed DbCommand (44ms) [Parameters=[@__trip_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.trip_id = @__trip_trip_id_0 AND t.is_default IS NULL
LIMIT 2
[2025-10-06 12:47:34.847 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trip_imgs AS t
[2025-10-06 12:47:34.868 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trip_imgs AS t
[2025-10-06 12:47:35.043 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trip_imgs (id, created_by, img_height, img_name, img_path, img_resize_path, img_width, is_default, trip_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, img_order, trip_type, updated_at;
[2025-10-06 12:47:35.099 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-06 12:47:35.193 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App) in 4900.637ms
[2025-10-06 12:47:35.195 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-06 12:47:35.207 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 200 84 application/json; charset=utf-8 5135.7321ms
[2025-10-06 12:47:40.315 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - multipart/form-data; boundary=----WebKitFormBoundaryB2cu8yFBDAXq2vFF 234887
[2025-10-06 12:47:40.322 +03:00  INF]  CORS policy execution successful.
[2025-10-06 12:47:40.337 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-06 12:47:40.337 +03:00  INF]  Route matched with {action = "SaveTripImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SaveTripImage(ITravelApp.Data.Models.trips.TripImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-06 12:48:03.714 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.img_order IS NULL
LIMIT 2
[2025-10-06 12:48:07.479 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.created_at, t.created_by, t.img_height, t.img_name, t.img_order, t.img_path, t.img_resize_path, t.img_width, t.is_default, t.trip_id, t.trip_type, t.updated_at
FROM trip_imgs AS t
WHERE t.trip_id = @__trip_trip_id_0 AND t.is_default IS NULL
LIMIT 2
[2025-10-06 12:48:11.787 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trip_imgs AS t
[2025-10-06 12:48:12.997 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trip_imgs AS t
[2025-10-06 12:48:15.173 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trip_imgs (id, created_by, img_height, img_name, img_path, img_resize_path, img_width, is_default, trip_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, img_order, trip_type, updated_at;
[2025-10-06 12:48:28.262 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-06 12:48:28.263 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App) in 47925.5227ms
[2025-10-06 12:48:28.263 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.SaveTripImage (ITravel_App)'
[2025-10-06 12:48:28.264 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/SaveTripImage - 200 84 application/json; charset=utf-8 47949.1428ms
[2025-10-06 12:50:24.812 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-06 12:50:25.667 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-06 12:50:25.668 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-06 12:50:25.869 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-06 12:50:25.871 +03:00  INF]  Hosting environment: Development
[2025-10-06 12:50:25.871 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-06 12:50:26.202 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-06 12:50:26.642 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-06 12:50:26.642 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-06 12:50:26.647 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 454.9266ms
[2025-10-06 12:50:26.654 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 12.1184ms
[2025-10-06 12:50:26.728 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 85.8857ms
[2025-10-06 12:50:26.800 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-06 12:50:26.887 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.4857ms
[2025-10-06 12:51:50.181 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelAdmin/saveDestinationImage - multipart/form-data; boundary=----WebKitFormBoundaryRNeKP0Lbd6Sdcjos 67981
[2025-10-06 12:51:50.188 +03:00  INF]  CORS policy execution successful.
[2025-10-06 12:51:50.363 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App)'
[2025-10-06 12:51:50.388 +03:00  INF]  Route matched with {action = "saveDestinationImage", controller = "TravelAdmin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult saveDestinationImageAsync(ITravelApp.Data.Models.destination.DestinationImgReq) on controller ITravel_App.Controllers.TravelAdminController (ITravel_App).
[2025-10-06 12:51:52.087 +03:00  INF]  Executed DbCommand (71ms) [Parameters=[@__row_destination_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d.id, d.created_at, d.created_by, d.destination_id, d.img_height, d.img_name, d.img_path, d.img_resize_path, d.img_width, d.is_default, d.updated_at
FROM destination_imgs AS d
WHERE d.destination_id = @__row_destination_id_0 AND d.is_default IS NULL
LIMIT 2
[2025-10-06 12:51:52.129 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM destination_imgs AS d
[2025-10-06 12:51:52.147 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(d.id)
FROM destination_imgs AS d
[2025-10-06 12:51:52.302 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO destination_imgs (id, created_by, destination_id, img_height, img_name, img_path, img_resize_path, img_width, is_default)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING created_at, updated_at;
[2025-10-06 12:51:52.335 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.ResponseCls'.
[2025-10-06 12:51:52.411 +03:00  INF]  Executed action ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App) in 2018.8831ms
[2025-10-06 12:51:52.411 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelAdminController.saveDestinationImageAsync (ITravel_App)'
[2025-10-06 12:51:52.422 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelAdmin/saveDestinationImage - 200 53 application/json; charset=utf-8 2240.2086ms
[2025-10-06 13:07:45.880 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-06 13:07:46.313 +03:00  INF]  Now listening on: https://localhost:7045
[2025-10-06 13:07:46.313 +03:00  INF]  Now listening on: http://localhost:5124
[2025-10-06 13:07:46.442 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-06 13:07:46.442 +03:00  INF]  Hosting environment: Development
[2025-10-06 13:07:46.442 +03:00  INF]  Content root path: D:\horizen\api\ITravel_App\ITravel_App
[2025-10-06 13:07:47.904 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/index.html - null null
[2025-10-06 13:07:48.236 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/index.html - 200 null text/html;charset=utf-8 343.1337ms
[2025-10-06 13:07:48.253 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-06 13:07:48.253 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/_vs/browserLink - null null
[2025-10-06 13:07:48.264 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 11.4114ms
[2025-10-06 13:07:48.478 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/_vs/browserLink - 200 null text/javascript; charset=UTF-8 224.7768ms
[2025-10-06 13:07:48.616 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - null null
[2025-10-06 13:07:48.692 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7045/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.0828ms
[2025-10-06 13:08:07.586 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelClient/GetDestination_Tree - application/json-patch+json 102
[2025-10-06 13:08:07.590 +03:00  INF]  CORS policy execution successful.
[2025-10-06 13:08:08.868 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelClientController.GetDestination_Tree (ITravel_App)'
[2025-10-06 13:08:08.893 +03:00  INF]  Route matched with {action = "GetDestination_Tree", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDestination_Tree(ITravelApp.Data.Models.destination.DestinationReq) on controller ITravel_App.Controllers.TravelClientController (ITravel_App).
[2025-10-06 13:08:11.096 +03:00  INF]  Executed DbCommand (61ms) [Parameters=[@__req_trip_type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t.destination_id
FROM trip_main AS t
WHERE t.trip_type = @__req_trip_type_0 AND t.active
[2025-10-06 13:08:11.204 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d.country_code, d.active, d.dest_code, d.dest_description, d.dest_name, d.img_path, d.lang_code, d.dest_default_name, d.route, d.leaf, d.parent_id, d."order"
FROM destinationwithdetails AS d
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active AND d.trans_active AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL)
[2025-10-06 13:08:11.218 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.destination.DestinationTree, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-06 13:08:11.258 +03:00  INF]  Executed action ITravel_App.Controllers.TravelClientController.GetDestination_Tree (ITravel_App) in 2362.105ms
[2025-10-06 13:08:11.258 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelClientController.GetDestination_Tree (ITravel_App)'
[2025-10-06 13:08:11.268 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelClient/GetDestination_Tree - 200 2542 application/json; charset=utf-8 3682.9958ms
[2025-10-06 13:08:24.243 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelClient/getDestinations - application/json-patch+json 102
[2025-10-06 13:08:24.244 +03:00  INF]  CORS policy execution successful.
[2025-10-06 13:08:24.249 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelClientController.getDestinations (ITravel_App)'
[2025-10-06 13:08:24.288 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getDestinations(ITravelApp.Data.Models.destination.DestinationReq) on controller ITravel_App.Controllers.TravelClientController (ITravel_App).
[2025-10-06 13:08:24.389 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__ToLower_0='?', @__req_leaf_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT d.active, d.country_code, d.dest_code, d.dest_default_name, d.dest_description, d.dest_name, d.destination_id, d.id, d.img_name, d.img_path, d.is_default, d.lang_code, d.leaf, d."order", d.parent_id, d.route, d.trans_active
FROM destinationwithdetails AS d
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active AND d.trans_active AND d.leaf = @__req_leaf_1 AND (lower(d.country_code) = lower(d.country_code) OR d.country_code IS NULL)
ORDER BY d."order"
[2025-10-06 13:08:24.406 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Entities.destinationwithdetail, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-06 13:08:24.417 +03:00  INF]  Executed action ITravel_App.Controllers.TravelClientController.getDestinations (ITravel_App) in 128.4919ms
[2025-10-06 13:08:24.418 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelClientController.getDestinations (ITravel_App)'
[2025-10-06 13:08:24.419 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelClient/getDestinations - 200 2647 application/json; charset=utf-8 176.5112ms
[2025-10-06 13:08:42.738 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelClient/GetTripDetails - application/json-patch+json 102
[2025-10-06 13:08:42.739 +03:00  INF]  CORS policy execution successful.
[2025-10-06 13:08:42.741 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelClientController.GetTripDetails (ITravel_App)'
[2025-10-06 13:08:42.753 +03:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ITravelApp.Data.Models.trips.TripDetailsReq) on controller ITravel_App.Controllers.TravelClientController (ITravel_App).
[2025-10-06 13:08:42.845 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64), @__req_trip_type_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND t.trip_type = @__req_trip_type_2
[2025-10-06 13:08:42.880 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:42.962 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:42.979 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:42.992 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:43.002 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:43.021 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:43.027 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:43.034 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:43.035 +03:00  INF]  Executing OkObjectResult, writing value of type 'ITravelApp.Data.Models.trips.TripsAll'.
[2025-10-06 13:08:43.067 +03:00  INF]  Executed action ITravel_App.Controllers.TravelClientController.GetTripDetails (ITravel_App) in 314.1963ms
[2025-10-06 13:08:43.068 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelClientController.GetTripDetails (ITravel_App)'
[2025-10-06 13:08:43.068 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelClient/GetTripDetails - 200 7822 application/json; charset=utf-8 330.4193ms
[2025-10-06 13:08:58.223 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7045/api/TravelClient/GetTripsAll - application/json-patch+json 158
[2025-10-06 13:08:58.224 +03:00  INF]  CORS policy execution successful.
[2025-10-06 13:08:58.224 +03:00  INF]  Executing endpoint 'ITravel_App.Controllers.TravelClientController.GetTripsAll (ITravel_App)'
[2025-10-06 13:08:58.227 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ITravelApp.Data.Models.trips.TripsReq) on controller ITravel_App.Controllers.TravelClientController (ITravel_App).
[2025-10-06 13:08:58.283 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__ToLower_0='?', @__req_show_in_top_1='?' (DbType = Boolean), @__req_show_in_slider_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL) AND t.show_in_top = @__req_show_in_top_1 AND (t.destination_id = t.destination_id OR t.destination_id IS NULL) AND t.show_in_slider = @__req_show_in_slider_2
ORDER BY t.trip_order
[2025-10-06 13:08:58.295 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.298 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.300 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.301 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.302 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.303 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.304 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.306 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.307 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.311 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.314 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.315 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.316 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.317 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.318 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.319 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.320 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.325 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.329 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.330 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.331 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.332 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.333 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.334 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.335 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.336 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.337 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.339 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.340 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.342 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.343 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.345 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.346 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.348 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.349 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.350 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.351 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.352 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.352 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.353 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.354 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.355 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.356 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.359 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.361 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.362 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.363 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.364 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.364 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.366 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.367 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.368 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.369 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.369 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.370 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.370 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.371 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.373 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.378 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.379 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.380 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.381 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.381 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.382 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.383 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.384 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.386 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.387 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.387 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.388 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.389 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.389 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.392 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.394 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.396 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.397 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.398 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.399 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.400 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.400 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.401 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.402 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.403 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.405 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.405 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.406 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.408 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.410 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.411 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.413 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.415 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.416 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.416 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.417 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.418 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.418 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.419 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.420 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.421 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.423 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.424 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.426 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.428 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.429 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.430 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.431 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.433 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.434 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.434 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.435 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.436 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.436 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.437 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.438 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.439 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.442 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.443 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.445 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.446 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.447 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.447 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.449 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.450 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.451 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.452 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.453 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.453 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.454 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.456 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.459 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.462 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.464 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.465 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.466 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.467 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.468 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.470 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.472 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.479 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.480 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.481 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.481 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.482 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.483 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.483 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.485 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-06 13:08:58.486 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-06 13:08:58.487 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.487 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.488 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.489 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-06 13:08:58.489 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-06 13:08:58.489 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ITravelApp.Data.Models.trips.TripsAll, ITravelApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-06 13:08:58.534 +03:00  INF]  Executed action ITravel_App.Controllers.TravelClientController.GetTripsAll (ITravel_App) in 307.3044ms
[2025-10-06 13:08:58.534 +03:00  INF]  Executed endpoint 'ITravel_App.Controllers.TravelClientController.GetTripsAll (ITravel_App)'
[2025-10-06 13:08:58.535 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7045/api/TravelClient/GetTripsAll - 200 104670 application/json; charset=utf-8 312.2088ms
